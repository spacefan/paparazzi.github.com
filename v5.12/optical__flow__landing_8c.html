<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Paparazzi UAS: sw/airborne/modules/ctrl/optical_flow_landing.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="penguin_icon.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Paparazzi UAS
   &#160;<span id="projectnumber">v5.12_stable-2-g9c592a7-dirty</span>
   </div>
   <div id="projectbrief">Paparazzi is a free software Unmanned Aircraft System.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('optical__flow__landing_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">optical_flow_landing.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This module implements optical flow landings in which the divergence is kept constant.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="optical__flow__landing_8h_source.html">optical_flow_landing.h</a>&quot;</code><br />
<code>#include &quot;generated/airframe.h&quot;</code><br />
<code>#include &quot;<a class="el" href="paparazzi_8h_source.html">paparazzi.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="abi_8h_source.html">subsystems/abi.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="stabilization_8h_source.html">firmwares/rotorcraft/stabilization.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="guidance__v__adapt_8h_source.html">firmwares/rotorcraft/guidance/guidance_v_adapt.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="autopilot_8h_source.html">autopilot.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="common__flight__plan_8h_source.html">subsystems/navigation/common_flight_plan.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="telemetry_8h_source.html">subsystems/datalink/telemetry.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sys__time_8h_source.html">mcu_periph/sys_time.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="pprz__stat_8h_source.html">math/pprz_stat.h</a>&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for optical_flow_landing.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c__incl.png" border="0" usemap="#sw_2airborne_2modules_2ctrl_2optical__flow__landing_8c" alt=""/></div>
<map name="sw_2airborne_2modules_2ctrl_2optical__flow__landing_8c" id="sw_2airborne_2modules_2ctrl_2optical__flow__landing_8c">
<area shape="rect" id="node2" href="optical__flow__landing_8h.html" title="This module implements optical flow landings in which the divergence is kept constant. " alt="" coords="5,377,165,404"/><area shape="rect" id="node5" href="paparazzi_8h.html" title="paparazzi.h" alt="" coords="1331,206,1427,233"/><area shape="rect" id="node7" href="abi_8h.html" title="Main include for ABI (AirBorneInterface). " alt="" coords="2862,109,2997,136"/><area shape="rect" id="node9" href="stabilization_8h.html" title="General stabilization interface for rotorcrafts. " alt="" coords="241,199,389,240"/><area shape="rect" id="node10" href="guidance__v__adapt_8h.html" title="Adaptation block of the vertical guidance. " alt="" coords="312,95,472,151"/><area shape="rect" id="node11" href="autopilot_8h.html" title="Core autopilot interface common to all firmwares. " alt="" coords="2164,109,2255,136"/><area shape="rect" id="node29" href="common__flight__plan_8h.html" title="Common flight_plan functions shared between fixedwing and rotorcraft. " alt="" coords="2313,102,2482,143"/><area shape="rect" id="node30" href="telemetry_8h.html" title="Periodic telemetry system header (includes downlink utility and generated code). " alt="" coords="1051,102,1205,143"/><area shape="rect" id="node42" href="sys__time_8h.html" title="Architecture independent timing functions. " alt="" coords="1501,206,1672,233"/><area shape="rect" id="node45" href="pprz__stat_8h.html" title="Statistics functions. " alt="" coords="2573,109,2705,136"/><area shape="rect" id="node6" href="inttypes_8h.html" title="inttypes.h" alt="" coords="1331,295,1416,322"/><area shape="rect" id="node12" href="state_8h.html" title="API to get/set the generic vehicle states. " alt="" coords="2160,206,2227,233"/><area shape="rect" id="node13" href="pprz__algebra__int_8h.html" title="Paparazzi fixed point algebra. " alt="" coords="1848,377,2027,404"/><area shape="rect" id="node19" href="pprz__algebra__float_8h.html" title="Paparazzi floating point algebra. " alt="" coords="2338,377,2529,404"/><area shape="rect" id="node22" href="pprz__geodetic__int_8h.html" title="Paparazzi fixed point math for geodetic calculations. " alt="" coords="1925,288,2075,329"/><area shape="rect" id="node24" href="pprz__geodetic__float_8h.html" title="Paparazzi floating point math for geodetic calculations. " alt="" coords="2339,288,2490,329"/><area shape="rect" id="node25" href="pprz__orientation__conversion_8h.html" title="Generic orientation representation and conversions. " alt="" coords="2151,288,2315,329"/><area shape="rect" id="node14" href="pprz__algebra_8h.html" title="Paparazzi generic algebra macros. " alt="" coords="2176,452,2331,479"/><area shape="rect" id="node17" href="pprz__trig__int_8h.html" title="Paparazzi fixed point trig functions. " alt="" coords="1849,452,1999,479"/><area shape="rect" id="node23" href="pprz__geodetic_8h.html" title="Paparazzi generic macros for geodetic calculations. " alt="" coords="2051,377,2175,404"/><area shape="rect" id="node31" href="uart_8h.html" title="arch independent UART (Universal Asynchronous Receiver/Transmitter) API " alt="" coords="340,377,479,404"/><area shape="rect" id="node35" href="downlink_8h.html" title="Common code for AP and FBW telemetry. " alt="" coords="882,199,1035,240"/><area shape="rect" id="node38" href="datalink_8h.html" title="Handling of messages coming from ground and other A/Cs. " alt="" coords="919,288,1073,329"/><area shape="rect" id="node40" href="pprz__dl_8h.html" title="Datalink using PPRZ protocol. " alt="" coords="342,295,535,322"/></map>
</div>
</div>
<p><a href="optical__flow__landing_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ae3ac798d30ee8e0a22ba4ec8df46d832"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#ae3ac798d30ee8e0a22ba4ec8df46d832">OFL_AGL_ID</a>&#160;&#160;&#160;<a class="el" href="abi__common_8h.html#a89a673124c7bb521be4e42d4bc0d29cb">ABI_BROADCAST</a></td></tr>
<tr class="separator:ae3ac798d30ee8e0a22ba4ec8df46d832"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6db78801ea4c64dae5f1653033ca76df"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a6db78801ea4c64dae5f1653033ca76df">OFL_OPTICAL_FLOW_ID</a>&#160;&#160;&#160;<a class="el" href="abi__common_8h.html#a89a673124c7bb521be4e42d4bc0d29cb">ABI_BROADCAST</a></td></tr>
<tr class="separator:a6db78801ea4c64dae5f1653033ca76df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab595049069975f9c9513c3a860ee8e7f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#ab595049069975f9c9513c3a860ee8e7f">OFL_PGAIN</a>&#160;&#160;&#160;0.40</td></tr>
<tr class="separator:ab595049069975f9c9513c3a860ee8e7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a6a8f45fd92fb7ccf4a74ad728f9d2f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a1a6a8f45fd92fb7ccf4a74ad728f9d2f">OFL_IGAIN</a>&#160;&#160;&#160;0.01</td></tr>
<tr class="separator:a1a6a8f45fd92fb7ccf4a74ad728f9d2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b302ac6f38e9d13c320b9facbdaddc5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a6b302ac6f38e9d13c320b9facbdaddc5">OFL_DGAIN</a>&#160;&#160;&#160;0.0</td></tr>
<tr class="separator:a6b302ac6f38e9d13c320b9facbdaddc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a812d6eae9b8533b1b5b9b1e37fc991e2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a812d6eae9b8533b1b5b9b1e37fc991e2">OFL_VISION_METHOD</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a812d6eae9b8533b1b5b9b1e37fc991e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d3627a23d9e5007021f03cb5a0ead61"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a7d3627a23d9e5007021f03cb5a0ead61">OFL_CONTROL_METHOD</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a7d3627a23d9e5007021f03cb5a0ead61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a393cb706bd30d4e20f0fd9bdc6cebb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a1a393cb706bd30d4e20f0fd9bdc6cebb">OFL_COV_METHOD</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a1a393cb706bd30d4e20f0fd9bdc6cebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab306dcd58bcaf5c687c19f6af5ab949e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#ab306dcd58bcaf5c687c19f6af5ab949e">OFL_COV_WINDOW_SIZE</a>&#160;&#160;&#160;30</td></tr>
<tr class="separator:ab306dcd58bcaf5c687c19f6af5ab949e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae00ac502168b14ef708466b5f9226531"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#ae00ac502168b14ef708466b5f9226531">OFL_COV_LANDING_LIMIT</a>&#160;&#160;&#160;2.2</td></tr>
<tr class="separator:ae00ac502168b14ef708466b5f9226531"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a490174af0751001c249b92dc5161bcb5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a490174af0751001c249b92dc5161bcb5">OFL_COV_SETPOINT</a>&#160;&#160;&#160;-0.0075</td></tr>
<tr class="separator:a490174af0751001c249b92dc5161bcb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa95ebf23d612cfe6a099c8c989b5c86f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#aa95ebf23d612cfe6a099c8c989b5c86f">OFL_LP_CONST</a>&#160;&#160;&#160;0.02</td></tr>
<tr class="separator:aa95ebf23d612cfe6a099c8c989b5c86f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf788b0ffc2e7fbbea48418b8e7e7d64"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#acf788b0ffc2e7fbbea48418b8e7e7d64">OFL_P_LAND_THRESHOLD</a>&#160;&#160;&#160;0.15</td></tr>
<tr class="separator:acf788b0ffc2e7fbbea48418b8e7e7d64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a188b01838e219c5c88272ff60bd4a8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a8a188b01838e219c5c88272ff60bd4a8">OFL_ELC_OSCILLATE</a>&#160;&#160;&#160;<a class="el" href="rtwtypes_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a></td></tr>
<tr class="separator:a8a188b01838e219c5c88272ff60bd4a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab710e4da24aa2886896e5854073e368f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#ab710e4da24aa2886896e5854073e368f">MINIMUM_GAIN</a>&#160;&#160;&#160;0.1</td></tr>
<tr class="separator:ab710e4da24aa2886896e5854073e368f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e874d14a9071f7615bd4f79224a7995"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a6e874d14a9071f7615bd4f79224a7995">INCREASE_GAIN_PER_SECOND</a>&#160;&#160;&#160;0.02</td></tr>
<tr class="separator:a6e874d14a9071f7615bd4f79224a7995"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afd99ef7471eed18456a2952ad85f30c5"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#afd99ef7471eed18456a2952ad85f30c5">send_divergence</a> (struct transport_tx *trans, struct link_device *<a class="el" href="stm32_2usb__ser__hw_8c.html#af2dab4ea4560c93acc64b4418db49f84">dev</a>)</td></tr>
<tr class="separator:afd99ef7471eed18456a2952ad85f30c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bcd862f437ba8c9b6f39ca5aab90b9e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a3bcd862f437ba8c9b6f39ca5aab90b9e">vertical_ctrl_agl_cb</a> (<a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> sender_id, float distance)</td></tr>
<tr class="memdesc:a3bcd862f437ba8c9b6f39ca5aab90b9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function definitions Callback function of the ground altitude.  <a href="#a3bcd862f437ba8c9b6f39ca5aab90b9e">More...</a><br /></td></tr>
<tr class="separator:a3bcd862f437ba8c9b6f39ca5aab90b9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83da7a3371ee4d7b0b0705fcd3c77954"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a83da7a3371ee4d7b0b0705fcd3c77954">vertical_ctrl_optical_flow_cb</a> (<a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> sender_id, <a class="el" href="types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> stamp, <a class="el" href="types_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a> flow_x, <a class="el" href="types_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a> flow_y, <a class="el" href="types_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a> flow_der_x, <a class="el" href="types_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a> flow_der_y, float quality, float size_divergence, float dist)</td></tr>
<tr class="separator:a83da7a3371ee4d7b0b0705fcd3c77954"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a529beff707cc000dee0afe4234074da4"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a529beff707cc000dee0afe4234074da4">set_cov_div</a> (<a class="el" href="types_8h.html#a2ba621978a511250f7250fb10e05ffbe">int32_t</a> thrust)</td></tr>
<tr class="memdesc:a529beff707cc000dee0afe4234074da4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the covariance of the divergence and the thrust / past divergence This funciton should only be called once per time step.  <a href="#a529beff707cc000dee0afe4234074da4">More...</a><br /></td></tr>
<tr class="separator:a529beff707cc000dee0afe4234074da4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a43c6fe7380d2c3fcadc9dfa82faa2b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="types_8h.html#a2ba621978a511250f7250fb10e05ffbe">int32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a3a43c6fe7380d2c3fcadc9dfa82faa2b">PID_divergence_control</a> (float setpoint, float <a class="el" href="trilateration_8c.html#acb4839096015fee9acf204179ed60200">P</a>, float <a class="el" href="trilateration_8c.html#a145f61de888f096c52a2945234a407b0">I</a>, float <a class="el" href="trilateration_8c.html#aa6702f5ca985a5b97e1534be9d374bba">D</a>, float dt)</td></tr>
<tr class="memdesc:a3a43c6fe7380d2c3fcadc9dfa82faa2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine and set the thrust for constant divergence control.  <a href="#a3a43c6fe7380d2c3fcadc9dfa82faa2b">More...</a><br /></td></tr>
<tr class="separator:a3a43c6fe7380d2c3fcadc9dfa82faa2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98c93c23a226634b228e322b12fe474a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a98c93c23a226634b228e322b12fe474a">update_errors</a> (float err, float dt)</td></tr>
<tr class="memdesc:a98c93c23a226634b228e322b12fe474a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the integral and differential errors for PID control and sets the previous error.  <a href="#a98c93c23a226634b228e322b12fe474a">More...</a><br /></td></tr>
<tr class="separator:a98c93c23a226634b228e322b12fe474a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff9f937ef0bdd8faf29e3487b95eb808"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#aff9f937ef0bdd8faf29e3487b95eb808">final_landing_procedure</a> ()</td></tr>
<tr class="memdesc:aff9f937ef0bdd8faf29e3487b95eb808"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a final landing procedure.  <a href="#aff9f937ef0bdd8faf29e3487b95eb808">More...</a><br /></td></tr>
<tr class="separator:aff9f937ef0bdd8faf29e3487b95eb808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46c9da8aa58fea58306c6a47b9f21c89"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a46c9da8aa58fea58306c6a47b9f21c89">reset_all_vars</a> (void)</td></tr>
<tr class="memdesc:a46c9da8aa58fea58306c6a47b9f21c89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset all variables:  <a href="#a46c9da8aa58fea58306c6a47b9f21c89">More...</a><br /></td></tr>
<tr class="separator:a46c9da8aa58fea58306c6a47b9f21c89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a089aaff33040a49a6598aad79528dd1e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a089aaff33040a49a6598aad79528dd1e">vertical_ctrl_module_init</a> (void)</td></tr>
<tr class="memdesc:a089aaff33040a49a6598aad79528dd1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the optical flow landing module.  <a href="#a089aaff33040a49a6598aad79528dd1e">More...</a><br /></td></tr>
<tr class="separator:a089aaff33040a49a6598aad79528dd1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9628e4f2b9a046bb7ff80c208ab85daa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a9628e4f2b9a046bb7ff80c208ab85daa">vertical_ctrl_module_run</a> (bool in_flight)</td></tr>
<tr class="memdesc:a9628e4f2b9a046bb7ff80c208ab85daa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the optical flow landing module.  <a href="#a9628e4f2b9a046bb7ff80c208ab85daa">More...</a><br /></td></tr>
<tr class="separator:a9628e4f2b9a046bb7ff80c208ab85daa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a535ad2dedb628ec10707a6c0448c525e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a535ad2dedb628ec10707a6c0448c525e">guidance_v_module_init</a> (void)</td></tr>
<tr class="separator:a535ad2dedb628ec10707a6c0448c525e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1288433c507106e865034b02ae79b2d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a1288433c507106e865034b02ae79b2d6">guidance_v_module_enter</a> (void)</td></tr>
<tr class="memdesc:a1288433c507106e865034b02ae79b2d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Entering the module (user switched to module)  <a href="#a1288433c507106e865034b02ae79b2d6">More...</a><br /></td></tr>
<tr class="separator:a1288433c507106e865034b02ae79b2d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24ef9289dfa15084a7457a97ad7632c8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a24ef9289dfa15084a7457a97ad7632c8">guidance_v_module_run</a> (bool in_flight)</td></tr>
<tr class="separator:a24ef9289dfa15084a7457a97ad7632c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7a59ca2aeff4d163658a4e7e12a02dd8"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a7a59ca2aeff4d163658a4e7e12a02dd8">divergence_vision</a></td></tr>
<tr class="separator:a7a59ca2aeff4d163658a4e7e12a02dd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99432c0bee7e762ef48150e334024ac6"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a99432c0bee7e762ef48150e334024ac6">divergence_vision_dt</a></td></tr>
<tr class="separator:a99432c0bee7e762ef48150e334024ac6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22f278c7a6c8471f63e12eb324d7f021"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a22f278c7a6c8471f63e12eb324d7f021">normalized_thrust</a></td></tr>
<tr class="separator:a22f278c7a6c8471f63e12eb324d7f021"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1eb4bb0fed2c8f7231d95df4e76de42"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#af1eb4bb0fed2c8f7231d95df4e76de42">cov_div</a></td></tr>
<tr class="separator:af1eb4bb0fed2c8f7231d95df4e76de42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad4e3c7c6d53e37efe585248474b4b38"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#aad4e3c7c6d53e37efe585248474b4b38">pstate</a></td></tr>
<tr class="separator:aad4e3c7c6d53e37efe585248474b4b38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a900b0336b231dbc0555dddc5e3331b46"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a900b0336b231dbc0555dddc5e3331b46">pused</a></td></tr>
<tr class="separator:a900b0336b231dbc0555dddc5e3331b46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ecfbfb994060f42f2f308d40ad7bca7"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a6ecfbfb994060f42f2f308d40ad7bca7">istate</a></td></tr>
<tr class="separator:a6ecfbfb994060f42f2f308d40ad7bca7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86c748c82bce971d2d334c70b71d6b89"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a86c748c82bce971d2d334c70b71d6b89">dstate</a></td></tr>
<tr class="separator:a86c748c82bce971d2d334c70b71d6b89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd5a06e2001ffc5bf0a717fba0bffd80"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#abd5a06e2001ffc5bf0a717fba0bffd80">vision_time</a></td></tr>
<tr class="separator:abd5a06e2001ffc5bf0a717fba0bffd80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f9312e31916e79187f1000c3add2201"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a8f9312e31916e79187f1000c3add2201">prev_vision_time</a></td></tr>
<tr class="separator:a8f9312e31916e79187f1000c3add2201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bc10d0a8a0a8b5ebed8c30c55cc23af"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a1bc10d0a8a0a8b5ebed8c30c55cc23af">landing</a></td></tr>
<tr class="separator:a1bc10d0a8a0a8b5ebed8c30c55cc23af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ded965fdb67e8374e03fbfff564ee79"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a1ded965fdb67e8374e03fbfff564ee79">previous_cov_err</a></td></tr>
<tr class="separator:a1ded965fdb67e8374e03fbfff564ee79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b7147874746b156b88f302773b16e08"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#a2ba621978a511250f7250fb10e05ffbe">int32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a4b7147874746b156b88f302773b16e08">thrust_set</a></td></tr>
<tr class="separator:a4b7147874746b156b88f302773b16e08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a8bf96823965c06683ab4c082a95c0a"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a6a8bf96823965c06683ab4c082a95c0a">divergence_setpoint</a></td></tr>
<tr class="separator:a6a8bf96823965c06683ab4c082a95c0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80596a926a1f27fa395e03555b0b5411"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#a2ba621978a511250f7250fb10e05ffbe">int32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a80596a926a1f27fa395e03555b0b5411">elc_phase</a></td></tr>
<tr class="separator:a80596a926a1f27fa395e03555b0b5411"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0211cb925953fd1f3d748965d9e887b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#af0211cb925953fd1f3d748965d9e887b">elc_time_start</a></td></tr>
<tr class="separator:af0211cb925953fd1f3d748965d9e887b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96ad501e1b7535527200d6eb10f9f64b"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a96ad501e1b7535527200d6eb10f9f64b">elc_p_gain_start</a></td></tr>
<tr class="separator:a96ad501e1b7535527200d6eb10f9f64b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d40fbb7e802a30f4d980e33a763c6b0"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a6d40fbb7e802a30f4d980e33a763c6b0">elc_i_gain_start</a></td></tr>
<tr class="separator:a6d40fbb7e802a30f4d980e33a763c6b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d12fd04a87fed301e3a094dcbc7ebbe"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a1d12fd04a87fed301e3a094dcbc7ebbe">elc_d_gain_start</a></td></tr>
<tr class="separator:a1d12fd04a87fed301e3a094dcbc7ebbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0a1bb9bcd3bde723005da2558d0e149"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#a2ba621978a511250f7250fb10e05ffbe">int32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#ae0a1bb9bcd3bde723005da2558d0e149">count_covdiv</a></td></tr>
<tr class="separator:ae0a1bb9bcd3bde723005da2558d0e149"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9308622ab987cd91e350be5cc56a3697"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a9308622ab987cd91e350be5cc56a3697">lp_cov_div</a></td></tr>
<tr class="separator:a9308622ab987cd91e350be5cc56a3697"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa50262a1e494235831469694c69b177"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="abi__common_8h.html#a60f71f1b8ca24759458ed4f700f02814">abi_event</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#afa50262a1e494235831469694c69b177">agl_ev</a></td></tr>
<tr class="memdesc:afa50262a1e494235831469694c69b177"><td class="mdescLeft">&#160;</td><td class="mdescRight">The altitude ABI event.  <a href="#afa50262a1e494235831469694c69b177">More...</a><br /></td></tr>
<tr class="separator:afa50262a1e494235831469694c69b177"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a141009974fbc44658bdd3334ff2e1d62"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="abi__common_8h.html#a60f71f1b8ca24759458ed4f700f02814">abi_event</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a141009974fbc44658bdd3334ff2e1d62">optical_flow_ev</a></td></tr>
<tr class="separator:a141009974fbc44658bdd3334ff2e1d62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4982b2ef527a9bb63dad1833b51849b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="optical__flow__landing_8h.html#structOpticalFlowLanding">OpticalFlowLanding</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#ad4982b2ef527a9bb63dad1833b51849b">of_landing_ctrl</a></td></tr>
<tr class="separator:ad4982b2ef527a9bb63dad1833b51849b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2aa30a9eac8fd693f1b8f1bcb38b81a"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#ad2aa30a9eac8fd693f1b8f1bcb38b81a">thrust_history</a> [<a class="el" href="optical__flow__landing_8c.html#ab306dcd58bcaf5c687c19f6af5ab949e">OFL_COV_WINDOW_SIZE</a>]</td></tr>
<tr class="separator:ad2aa30a9eac8fd693f1b8f1bcb38b81a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfbd330fc4bfaf45efffa4e1b7aeecdc"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#adfbd330fc4bfaf45efffa4e1b7aeecdc">divergence_history</a> [<a class="el" href="optical__flow__landing_8c.html#ab306dcd58bcaf5c687c19f6af5ab949e">OFL_COV_WINDOW_SIZE</a>]</td></tr>
<tr class="separator:adfbd330fc4bfaf45efffa4e1b7aeecdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3270c13821522ff3a44f9cc2e4ec7d3"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#aa3270c13821522ff3a44f9cc2e4ec7d3">past_divergence_history</a> [<a class="el" href="optical__flow__landing_8c.html#ab306dcd58bcaf5c687c19f6af5ab949e">OFL_COV_WINDOW_SIZE</a>]</td></tr>
<tr class="separator:aa3270c13821522ff3a44f9cc2e4ec7d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61051013fe6710b90bb88d024b3b4f76"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a61051013fe6710b90bb88d024b3b4f76">ind_hist</a></td></tr>
<tr class="separator:a61051013fe6710b90bb88d024b3b4f76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73f200132b3c846f4b218a930fcf8945"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="optical__flow__landing_8c.html#a73f200132b3c846f4b218a930fcf8945">cov_array_filled</a></td></tr>
<tr class="separator:a73f200132b3c846f4b218a930fcf8945"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This module implements optical flow landings in which the divergence is kept constant. </p>
<p>When using a fixed gain for control, the covariance between thrust and divergence is tracked, so that the drone knows when it has arrived close to the landing surface. Then, a final landing procedure is triggered. It can also be set to adaptive gain control, where the goal is to continuously gauge the distance to the landing surface. In this mode, the drone will oscillate all the way down to the surface.</p>
<p>de Croon, G.C.H.E. (2016). Monocular distance estimation with optical flow maneuvers and efference copies: a stability-based strategy. Bioinspiration &amp; biomimetics, 11(1), 016004. <a href="http://iopscience.iop.org/article/10.1088/1748-3190/11/1/016004">http://iopscience.iop.org/article/10.1088/1748-3190/11/1/016004</a></p>
<p>Based on the above theory, we have also developed a new strategy for landing that consists of two phases: (1) while hovering, the drone determines the optimal gain by increasing the gain until oscillation (2) the drone starts landing while exponentially decreasing the gain over time</p>
<p>This strategy leads to smooth, high-performance constant divergence landings, as explained in the article: H.W. Ho, G.C.H.E. de Croon, E. van Kampen, Q.P. Chu, and M. Mulder (submitted) Adaptive Control Strategy for Constant Optical Flow Divergence Landing, <a href="https://arxiv.org/abs/1609.06767">https://arxiv.org/abs/1609.06767</a> </p>

<p>Definition in file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a6e874d14a9071f7615bd4f79224a7995"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INCREASE_GAIN_PER_SECOND&#160;&#160;&#160;0.02</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00130">130</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00288">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="ab710e4da24aa2886896e5854073e368f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MINIMUM_GAIN&#160;&#160;&#160;0.1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00127">127</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00288">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="ae3ac798d30ee8e0a22ba4ec8df46d832"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OFL_AGL_ID&#160;&#160;&#160;<a class="el" href="abi__common_8h.html#a89a673124c7bb521be4e42d4bc0d29cb">ABI_BROADCAST</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00064">64</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00195">vertical_ctrl_module_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a7d3627a23d9e5007021f03cb5a0ead61"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OFL_CONTROL_METHOD&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00092">92</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00195">vertical_ctrl_module_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ae00ac502168b14ef708466b5f9226531"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OFL_COV_LANDING_LIMIT&#160;&#160;&#160;2.2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00105">105</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00195">vertical_ctrl_module_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a1a393cb706bd30d4e20f0fd9bdc6cebb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OFL_COV_METHOD&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00096">96</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00195">vertical_ctrl_module_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a490174af0751001c249b92dc5161bcb5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OFL_COV_SETPOINT&#160;&#160;&#160;-0.0075</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00109">109</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00195">vertical_ctrl_module_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ab306dcd58bcaf5c687c19f6af5ab949e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OFL_COV_WINDOW_SIZE&#160;&#160;&#160;30</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00101">101</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00243">reset_all_vars()</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00195">vertical_ctrl_module_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a6b302ac6f38e9d13c320b9facbdaddc5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OFL_DGAIN&#160;&#160;&#160;0.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00084">84</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00195">vertical_ctrl_module_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a8a188b01838e219c5c88272ff60bd4a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OFL_ELC_OSCILLATE&#160;&#160;&#160;<a class="el" href="rtwtypes_8h.html#a41f9c5fb8b08eb5dc3edce4dcb37fee7">true</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00121">121</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00195">vertical_ctrl_module_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a1a6a8f45fd92fb7ccf4a74ad728f9d2f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OFL_IGAIN&#160;&#160;&#160;0.01</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00080">80</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00195">vertical_ctrl_module_init()</a>.</p>

</div>
</div>
<a class="anchor" id="aa95ebf23d612cfe6a099c8c989b5c86f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OFL_LP_CONST&#160;&#160;&#160;0.02</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00113">113</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00195">vertical_ctrl_module_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a6db78801ea4c64dae5f1653033ca76df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OFL_OPTICAL_FLOW_ID&#160;&#160;&#160;<a class="el" href="abi__common_8h.html#a89a673124c7bb521be4e42d4bc0d29cb">ABI_BROADCAST</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00070">70</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00195">vertical_ctrl_module_init()</a>.</p>

</div>
</div>
<a class="anchor" id="acf788b0ffc2e7fbbea48418b8e7e7d64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OFL_P_LAND_THRESHOLD&#160;&#160;&#160;0.15</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00117">117</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00195">vertical_ctrl_module_init()</a>.</p>

</div>
</div>
<a class="anchor" id="ab595049069975f9c9513c3a860ee8e7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OFL_PGAIN&#160;&#160;&#160;0.40</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00076">76</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00195">vertical_ctrl_module_init()</a>.</p>

</div>
</div>
<a class="anchor" id="a812d6eae9b8533b1b5b9b1e37fc991e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OFL_VISION_METHOD&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00088">88</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00195">vertical_ctrl_module_init()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="aff9f937ef0bdd8faf29e3487b95eb808"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> final_landing_procedure </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Execute a final landing procedure. </p>

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00502">502</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>References <a class="el" href="paparazzi_8h_source.html#l00008">MAX_PPRZ</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00062">OpticalFlowLanding::nominal_thrust</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00157">of_landing_ctrl</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00288">vertical_ctrl_module_run()</a>.</p>

<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_aff9f937ef0bdd8faf29e3487b95eb808_icgraph.png" border="0" usemap="#optical__flow__landing_8c_aff9f937ef0bdd8faf29e3487b95eb808_icgraph" alt=""/></div>
<map name="optical__flow__landing_8c_aff9f937ef0bdd8faf29e3487b95eb808_icgraph" id="optical__flow__landing_8c_aff9f937ef0bdd8faf29e3487b95eb808_icgraph">
<area shape="rect" id="node2" href="optical__flow__landing_8c.html#a9628e4f2b9a046bb7ff80c208ab85daa" title="Run the optical flow landing module. " alt="" coords="227,5,405,32"/><area shape="rect" id="node3" href="vertical__ctrl__module__demo_8h.html#a24ef9289dfa15084a7457a97ad7632c8" title="guidance_v_module_run" alt="" coords="453,5,631,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1288433c507106e865034b02ae79b2d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void guidance_v_module_enter </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Entering the module (user switched to module) </p>

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00618">618</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>References <a class="el" href="paparazzi_8h_source.html#l00008">MAX_PPRZ</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00062">OpticalFlowLanding::nominal_thrust</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00157">of_landing_ctrl</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00243">reset_all_vars()</a>, and <a class="el" href="stabilization_8c_source.html#l00028">stabilization_cmd</a>.</p>

<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_a1288433c507106e865034b02ae79b2d6_cgraph.png" border="0" usemap="#optical__flow__landing_8c_a1288433c507106e865034b02ae79b2d6_cgraph" alt=""/></div>
<map name="optical__flow__landing_8c_a1288433c507106e865034b02ae79b2d6_cgraph" id="optical__flow__landing_8c_a1288433c507106e865034b02ae79b2d6_cgraph">
<area shape="rect" id="node2" href="optical__flow__landing_8c.html#a46c9da8aa58fea58306c6a47b9f21c89" title="Reset all variables: " alt="" coords="244,132,355,159"/><area shape="rect" id="node3" href="group__state__position.html#ga545d479db45e1a9711e59736b6d1309b" title="Get position in local ENU coordinates (float). " alt="" coords="403,107,565,133"/><area shape="rect" id="node15" href="sys__time_8h.html#af486c2fb33d8d33645256a9970eb056e" title="Get the time in seconds since startup. " alt="" coords="413,157,555,184"/><area shape="rect" id="node4" href="group__state__position.html#ga718066acd9581365ca5c2aacb29130fd" title="stateCalcPositionEnu_f" alt="" coords="613,107,780,133"/><area shape="rect" id="node5" href="pprz__geodetic__float_8c.html#a2a82ebdce90a3e41d54f72c5e787fcd0" title="enu_of_ecef_point_f" alt="" coords="1015,56,1164,83"/><area shape="rect" id="node6" href="group__math__geodetic__int.html#ga710a45725431766f0a003ba93cb58a11" title="Convert a ECEF position to local ENU. " alt="" coords="828,5,967,32"/><area shape="rect" id="node8" href="pprz__geodetic__float_8c.html#ab8d5cb7292ea74802e7a94e265c0703a" title="enu_of_lla_point_f" alt="" coords="829,107,965,133"/><area shape="rect" id="node10" href="group__math__geodetic__int.html#ga386f7bf340618bf1454ca2a3b5086100" title="Convert a LLA to ECEF. " alt="" coords="848,157,947,184"/><area shape="rect" id="node12" href="pprz__geodetic__float_8c.html#af99d4775df518f30b741b49c26eceedd" title="utm_of_lla_f" alt="" coords="848,208,947,235"/><area shape="rect" id="node7" href="group__math__geodetic__int.html#ga85bcbfc73a43b120465422ec55647573" title="Convert a point from ECEF to local ENU. " alt="" coords="1015,5,1163,32"/><area shape="rect" id="node9" href="pprz__geodetic__float_8c.html#a65bc5ba8b61d014ca659035759cc001c" title="ecef_of_lla_f" alt="" coords="1039,107,1139,133"/><area shape="rect" id="node11" href="group__math__geodetic__double.html#gae6608c48696daebf3382f08e655028d9" title="ecef_of_lla_d" alt="" coords="1037,157,1141,184"/><area shape="rect" id="node13" href="pprz__geodetic__float_8c.html#a25c5bd31de0ea0d0caf14a0d217ad3ea" title="isometric_latitude_f" alt="" coords="1016,208,1163,235"/><area shape="rect" id="node14" href="pprz__geodetic__float_8c.html#a21ea1b369f7d4abd984fb89c488dde24" title="isometric_latitude\l_fast_f" alt="" coords="1021,259,1157,301"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a535ad2dedb628ec10707a6c0448c525e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void guidance_v_module_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00610">610</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>References <a class="el" href="optical__flow__landing_8c_source.html#l00195">vertical_ctrl_module_init()</a>.</p>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_a535ad2dedb628ec10707a6c0448c525e_cgraph.png" border="0" usemap="#optical__flow__landing_8c_a535ad2dedb628ec10707a6c0448c525e_cgraph" alt=""/></div>
<map name="optical__flow__landing_8c_a535ad2dedb628ec10707a6c0448c525e_cgraph" id="optical__flow__landing_8c_a535ad2dedb628ec10707a6c0448c525e_cgraph">
<area shape="rect" id="node2" href="optical__flow__landing_8c.html#a089aaff33040a49a6598aad79528dd1e" title="Initialize the optical flow landing module. " alt="" coords="228,241,404,268"/><area shape="rect" id="node3" href="optical__flow__landing_8c.html#a46c9da8aa58fea58306c6a47b9f21c89" title="Reset all variables: " alt="" coords="495,132,606,159"/><area shape="rect" id="node17" href="optical__flow__landing_8c.html#a3bcd862f437ba8c9b6f39ca5aab90b9e" title="Function definitions Callback function of the ground altitude. " alt="" coords="479,183,622,209"/><area shape="rect" id="node18" href="optical__flow__landing_8c.html#a83da7a3371ee4d7b0b0705fcd3c77954" title="vertical_ctrl_optical\l_flow_cb" alt="" coords="479,234,623,275"/><area shape="rect" id="node19" href="telemetry_8c.html#a8b8cf43739f06c54d16370c141b541a0" title="Register a telemetry callback function. " alt="" coords="452,300,649,327"/><area shape="rect" id="node20" href="optical__flow__landing_8c.html#afd99ef7471eed18456a2952ad85f30c5" title="send_divergence" alt="" coords="485,351,616,377"/><area shape="rect" id="node4" href="group__state__position.html#ga545d479db45e1a9711e59736b6d1309b" title="Get position in local ENU coordinates (float). " alt="" coords="697,107,860,133"/><area shape="rect" id="node16" href="sys__time_8h.html#af486c2fb33d8d33645256a9970eb056e" title="Get the time in seconds since startup. " alt="" coords="707,157,850,184"/><area shape="rect" id="node5" href="group__state__position.html#ga718066acd9581365ca5c2aacb29130fd" title="stateCalcPositionEnu_f" alt="" coords="908,107,1075,133"/><area shape="rect" id="node6" href="pprz__geodetic__float_8c.html#a2a82ebdce90a3e41d54f72c5e787fcd0" title="enu_of_ecef_point_f" alt="" coords="1309,56,1459,83"/><area shape="rect" id="node7" href="group__math__geodetic__int.html#ga710a45725431766f0a003ba93cb58a11" title="Convert a ECEF position to local ENU. " alt="" coords="1123,5,1261,32"/><area shape="rect" id="node9" href="pprz__geodetic__float_8c.html#ab8d5cb7292ea74802e7a94e265c0703a" title="enu_of_lla_point_f" alt="" coords="1124,107,1260,133"/><area shape="rect" id="node11" href="group__math__geodetic__int.html#ga386f7bf340618bf1454ca2a3b5086100" title="Convert a LLA to ECEF. " alt="" coords="1143,157,1241,184"/><area shape="rect" id="node13" href="pprz__geodetic__float_8c.html#af99d4775df518f30b741b49c26eceedd" title="utm_of_lla_f" alt="" coords="1143,208,1241,235"/><area shape="rect" id="node8" href="group__math__geodetic__int.html#ga85bcbfc73a43b120465422ec55647573" title="Convert a point from ECEF to local ENU. " alt="" coords="1310,5,1458,32"/><area shape="rect" id="node10" href="pprz__geodetic__float_8c.html#a65bc5ba8b61d014ca659035759cc001c" title="ecef_of_lla_f" alt="" coords="1334,107,1434,133"/><area shape="rect" id="node12" href="group__math__geodetic__double.html#gae6608c48696daebf3382f08e655028d9" title="ecef_of_lla_d" alt="" coords="1332,157,1436,184"/><area shape="rect" id="node14" href="pprz__geodetic__float_8c.html#a25c5bd31de0ea0d0caf14a0d217ad3ea" title="isometric_latitude_f" alt="" coords="1311,208,1457,235"/><area shape="rect" id="node15" href="pprz__geodetic__float_8c.html#a21ea1b369f7d4abd984fb89c488dde24" title="isometric_latitude\l_fast_f" alt="" coords="1316,259,1452,301"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a24ef9289dfa15084a7457a97ad7632c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void guidance_v_module_run </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>in_flight</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00627">627</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3a43c6fe7380d2c3fcadc9dfa82faa2b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a2ba621978a511250f7250fb10e05ffbe">int32_t</a> PID_divergence_control </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>setpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>I</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>D</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determine and set the thrust for constant divergence control. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">thrust</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">divergence_set_point</td><td>The desired divergence </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">P</td><td>P-gain </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">I</td><td>I-gain </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">D</td><td>D-gain </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dt</td><td>time difference since last update </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00555">555</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>References <a class="el" href="optical__flow__landing_8h_source.html#l00061">OpticalFlowLanding::d_err</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00058">OpticalFlowLanding::divergence</a>, <a class="el" href="paparazzi_8h_source.html#l00008">MAX_PPRZ</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00062">OpticalFlowLanding::nominal_thrust</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00157">of_landing_ctrl</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00518">set_cov_div()</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00060">OpticalFlowLanding::sum_err</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00583">update_errors()</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00288">vertical_ctrl_module_run()</a>.</p>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_a3a43c6fe7380d2c3fcadc9dfa82faa2b_cgraph.png" border="0" usemap="#optical__flow__landing_8c_a3a43c6fe7380d2c3fcadc9dfa82faa2b_cgraph" alt=""/></div>
<map name="optical__flow__landing_8c_a3a43c6fe7380d2c3fcadc9dfa82faa2b_cgraph" id="optical__flow__landing_8c_a3a43c6fe7380d2c3fcadc9dfa82faa2b_cgraph">
<area shape="rect" id="node2" href="optical__flow__landing_8c.html#a529beff707cc000dee0afe4234074da4" title="Set the covariance of the divergence and the thrust / past divergence This funciton should only be ca..." alt="" coords="232,5,328,32"/><area shape="rect" id="node4" href="optical__flow__landing_8c.html#a98c93c23a226634b228e322b12fe474a" title="Updates the integral and differential errors for PID control and sets the previous error..." alt="" coords="224,56,336,83"/><area shape="rect" id="node3" href="pprz__stat_8c.html#ac75c0169ede28d21ada6d51e7431ea18" title="Compute the covariance of two arrays V(X) = E[(X&#45;E[X])(Y&#45;E[Y])] = E[XY] &#45; E[X]E[Y] where E[X] is the ..." alt="" coords="384,5,487,32"/></map>
</div>
</p>

<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_a3a43c6fe7380d2c3fcadc9dfa82faa2b_icgraph.png" border="0" usemap="#optical__flow__landing_8c_a3a43c6fe7380d2c3fcadc9dfa82faa2b_icgraph" alt=""/></div>
<map name="optical__flow__landing_8c_a3a43c6fe7380d2c3fcadc9dfa82faa2b_icgraph" id="optical__flow__landing_8c_a3a43c6fe7380d2c3fcadc9dfa82faa2b_icgraph">
<area shape="rect" id="node2" href="optical__flow__landing_8c.html#a9628e4f2b9a046bb7ff80c208ab85daa" title="Run the optical flow landing module. " alt="" coords="224,5,403,32"/><area shape="rect" id="node3" href="vertical__ctrl__module__demo_8h.html#a24ef9289dfa15084a7457a97ad7632c8" title="guidance_v_module_run" alt="" coords="451,5,628,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a46c9da8aa58fea58306c6a47b9f21c89"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void reset_all_vars </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reset all variables: </p>

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00243">243</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>References <a class="el" href="optical__flow__landing_8h_source.html#l00050">OpticalFlowLanding::agl</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00051">OpticalFlowLanding::agl_lp</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00061">OpticalFlowLanding::d_err</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00057">OpticalFlowLanding::dgain</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00058">OpticalFlowLanding::divergence</a>, <a class="el" href="sys__time_8h_source.html#l00129">get_sys_time_float()</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00056">OpticalFlowLanding::igain</a>, <a class="el" href="paparazzi_8h_source.html#l00008">MAX_PPRZ</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00062">OpticalFlowLanding::nominal_thrust</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00157">of_landing_ctrl</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00101">OFL_COV_WINDOW_SIZE</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00055">OpticalFlowLanding::pgain</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00059">OpticalFlowLanding::previous_err</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00137">pstate</a>, <a class="el" href="state_8h_source.html#l00719">stateGetPositionEnu_f()</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00060">OpticalFlowLanding::sum_err</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00140">vision_time</a>, and <a class="el" href="pprz__geodetic__float_8h_source.html#l00075">EnuCoor_f::z</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00618">guidance_v_module_enter()</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00195">vertical_ctrl_module_init()</a>.</p>

<p><div id="dynsection-6" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_a46c9da8aa58fea58306c6a47b9f21c89_cgraph.png" border="0" usemap="#optical__flow__landing_8c_a46c9da8aa58fea58306c6a47b9f21c89_cgraph" alt=""/></div>
<map name="optical__flow__landing_8c_a46c9da8aa58fea58306c6a47b9f21c89_cgraph" id="optical__flow__landing_8c_a46c9da8aa58fea58306c6a47b9f21c89_cgraph">
<area shape="rect" id="node2" href="sys__time_8h.html#af486c2fb33d8d33645256a9970eb056e" title="Get the time in seconds since startup. " alt="" coords="174,56,317,83"/><area shape="rect" id="node3" href="group__state__position.html#ga545d479db45e1a9711e59736b6d1309b" title="Get position in local ENU coordinates (float). " alt="" coords="164,107,327,133"/><area shape="rect" id="node4" href="group__state__position.html#ga718066acd9581365ca5c2aacb29130fd" title="stateCalcPositionEnu_f" alt="" coords="375,107,541,133"/><area shape="rect" id="node5" href="pprz__geodetic__float_8c.html#a2a82ebdce90a3e41d54f72c5e787fcd0" title="enu_of_ecef_point_f" alt="" coords="776,56,925,83"/><area shape="rect" id="node6" href="group__math__geodetic__int.html#ga710a45725431766f0a003ba93cb58a11" title="Convert a ECEF position to local ENU. " alt="" coords="589,5,728,32"/><area shape="rect" id="node8" href="pprz__geodetic__float_8c.html#ab8d5cb7292ea74802e7a94e265c0703a" title="enu_of_lla_point_f" alt="" coords="591,107,727,133"/><area shape="rect" id="node10" href="group__math__geodetic__int.html#ga386f7bf340618bf1454ca2a3b5086100" title="Convert a LLA to ECEF. " alt="" coords="609,157,708,184"/><area shape="rect" id="node12" href="pprz__geodetic__float_8c.html#af99d4775df518f30b741b49c26eceedd" title="utm_of_lla_f" alt="" coords="609,208,708,235"/><area shape="rect" id="node7" href="group__math__geodetic__int.html#ga85bcbfc73a43b120465422ec55647573" title="Convert a point from ECEF to local ENU. " alt="" coords="777,5,925,32"/><area shape="rect" id="node9" href="pprz__geodetic__float_8c.html#a65bc5ba8b61d014ca659035759cc001c" title="ecef_of_lla_f" alt="" coords="801,107,901,133"/><area shape="rect" id="node11" href="group__math__geodetic__double.html#gae6608c48696daebf3382f08e655028d9" title="ecef_of_lla_d" alt="" coords="799,157,903,184"/><area shape="rect" id="node13" href="pprz__geodetic__float_8c.html#a25c5bd31de0ea0d0caf14a0d217ad3ea" title="isometric_latitude_f" alt="" coords="777,208,924,235"/><area shape="rect" id="node14" href="pprz__geodetic__float_8c.html#a21ea1b369f7d4abd984fb89c488dde24" title="isometric_latitude\l_fast_f" alt="" coords="783,259,919,301"/></map>
</div>
</p>

<p><div id="dynsection-7" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_a46c9da8aa58fea58306c6a47b9f21c89_icgraph.png" border="0" usemap="#optical__flow__landing_8c_a46c9da8aa58fea58306c6a47b9f21c89_icgraph" alt=""/></div>
<map name="optical__flow__landing_8c_a46c9da8aa58fea58306c6a47b9f21c89_icgraph" id="optical__flow__landing_8c_a46c9da8aa58fea58306c6a47b9f21c89_icgraph">
<area shape="rect" id="node2" href="optical__flow__landing_8c.html#a1288433c507106e865034b02ae79b2d6" title="Entering the module (user switched to module) " alt="" coords="164,5,355,32"/><area shape="rect" id="node3" href="optical__flow__landing_8c.html#a089aaff33040a49a6598aad79528dd1e" title="Initialize the optical flow landing module. " alt="" coords="171,56,347,83"/><area shape="rect" id="node4" href="optical__flow__landing_8c.html#a535ad2dedb628ec10707a6c0448c525e" title="guidance_v_module_init" alt="" coords="403,56,577,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afd99ef7471eed18456a2952ad85f30c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void send_divergence </td>
          <td>(</td>
          <td class="paramtype">struct transport_tx *&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct link_device *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00160">160</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>References <a class="el" href="optical__flow__landing_8h_source.html#l00050">OpticalFlowLanding::agl</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00058">OpticalFlowLanding::divergence</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00157">of_landing_ctrl</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00195">vertical_ctrl_module_init()</a>.</p>

<p><div id="dynsection-8" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_afd99ef7471eed18456a2952ad85f30c5_icgraph.png" border="0" usemap="#optical__flow__landing_8c_afd99ef7471eed18456a2952ad85f30c5_icgraph" alt=""/></div>
<map name="optical__flow__landing_8c_afd99ef7471eed18456a2952ad85f30c5_icgraph" id="optical__flow__landing_8c_afd99ef7471eed18456a2952ad85f30c5_icgraph">
<area shape="rect" id="node2" href="optical__flow__landing_8c.html#a089aaff33040a49a6598aad79528dd1e" title="Initialize the optical flow landing module. " alt="" coords="184,5,360,32"/><area shape="rect" id="node3" href="optical__flow__landing_8c.html#a535ad2dedb628ec10707a6c0448c525e" title="guidance_v_module_init" alt="" coords="408,5,583,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a529beff707cc000dee0afe4234074da4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void set_cov_div </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#a2ba621978a511250f7250fb10e05ffbe">int32_t</a>&#160;</td>
          <td class="paramname"><em>thrust</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the covariance of the divergence and the thrust / past divergence This funciton should only be called once per time step. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">thrust</td><td>the current thrust value </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00518">518</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>References <a class="el" href="optical__flow__landing_8h_source.html#l00070">OpticalFlowLanding::COV_METHOD</a>, <a class="el" href="pprz__stat_8c_source.html#l00132">covariance_f()</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00071">OpticalFlowLanding::delay_steps</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00058">OpticalFlowLanding::divergence</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00186">ind_hist</a>, <a class="el" href="paparazzi_8h_source.html#l00008">MAX_PPRZ</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00135">normalized_thrust</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00157">of_landing_ctrl</a>, and <a class="el" href="optical__flow__landing_8h_source.html#l00072">OpticalFlowLanding::window_size</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00555">PID_divergence_control()</a>.</p>

<p><div id="dynsection-9" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_a529beff707cc000dee0afe4234074da4_cgraph.png" border="0" usemap="#optical__flow__landing_8c_a529beff707cc000dee0afe4234074da4_cgraph" alt=""/></div>
<map name="optical__flow__landing_8c_a529beff707cc000dee0afe4234074da4_cgraph" id="optical__flow__landing_8c_a529beff707cc000dee0afe4234074da4_cgraph">
<area shape="rect" id="node2" href="pprz__stat_8c.html#ac75c0169ede28d21ada6d51e7431ea18" title="Compute the covariance of two arrays V(X) = E[(X&#45;E[X])(Y&#45;E[Y])] = E[XY] &#45; E[X]E[Y] where E[X] is the ..." alt="" coords="149,5,252,32"/></map>
</div>
</p>

<p><div id="dynsection-10" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_a529beff707cc000dee0afe4234074da4_icgraph.png" border="0" usemap="#optical__flow__landing_8c_a529beff707cc000dee0afe4234074da4_icgraph" alt=""/></div>
<map name="optical__flow__landing_8c_a529beff707cc000dee0afe4234074da4_icgraph" id="optical__flow__landing_8c_a529beff707cc000dee0afe4234074da4_icgraph">
<area shape="rect" id="node2" href="optical__flow__landing_8c.html#a3a43c6fe7380d2c3fcadc9dfa82faa2b" title="Determine and set the thrust for constant divergence control. " alt="" coords="149,5,320,32"/><area shape="rect" id="node3" href="optical__flow__landing_8c.html#a9628e4f2b9a046bb7ff80c208ab85daa" title="Run the optical flow landing module. " alt="" coords="368,5,547,32"/><area shape="rect" id="node4" href="vertical__ctrl__module__demo_8h.html#a24ef9289dfa15084a7457a97ad7632c8" title="guidance_v_module_run" alt="" coords="595,5,772,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a98c93c23a226634b228e322b12fe474a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void update_errors </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates the integral and differential errors for PID control and sets the previous error. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">err</td><td>the error of the divergence and divergence setpoint </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dt</td><td>time difference since last update </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00583">583</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>References <a class="el" href="optical__flow__landing_8h_source.html#l00061">OpticalFlowLanding::d_err</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00052">OpticalFlowLanding::lp_const</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00157">of_landing_ctrl</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00059">OpticalFlowLanding::previous_err</a>, and <a class="el" href="optical__flow__landing_8h_source.html#l00060">OpticalFlowLanding::sum_err</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00555">PID_divergence_control()</a>.</p>

<p><div id="dynsection-11" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_a98c93c23a226634b228e322b12fe474a_icgraph.png" border="0" usemap="#optical__flow__landing_8c_a98c93c23a226634b228e322b12fe474a_icgraph" alt=""/></div>
<map name="optical__flow__landing_8c_a98c93c23a226634b228e322b12fe474a_icgraph" id="optical__flow__landing_8c_a98c93c23a226634b228e322b12fe474a_icgraph">
<area shape="rect" id="node2" href="optical__flow__landing_8c.html#a3a43c6fe7380d2c3fcadc9dfa82faa2b" title="Determine and set the thrust for constant divergence control. " alt="" coords="165,5,336,32"/><area shape="rect" id="node3" href="optical__flow__landing_8c.html#a9628e4f2b9a046bb7ff80c208ab85daa" title="Run the optical flow landing module. " alt="" coords="384,5,563,32"/><area shape="rect" id="node4" href="vertical__ctrl__module__demo_8h.html#a24ef9289dfa15084a7457a97ad7632c8" title="guidance_v_module_run" alt="" coords="611,5,788,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3bcd862f437ba8c9b6f39ca5aab90b9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void vertical_ctrl_agl_cb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> sender_id&#160;</td>
          <td class="paramname"><em>UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>distance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function definitions Callback function of the ground altitude. </p>

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00595">595</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>References <a class="el" href="optical__flow__landing_8h_source.html#l00050">OpticalFlowLanding::agl</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00157">of_landing_ctrl</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00195">vertical_ctrl_module_init()</a>.</p>

<p><div id="dynsection-12" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_a3bcd862f437ba8c9b6f39ca5aab90b9e_icgraph.png" border="0" usemap="#optical__flow__landing_8c_a3bcd862f437ba8c9b6f39ca5aab90b9e_icgraph" alt=""/></div>
<map name="optical__flow__landing_8c_a3bcd862f437ba8c9b6f39ca5aab90b9e_icgraph" id="optical__flow__landing_8c_a3bcd862f437ba8c9b6f39ca5aab90b9e_icgraph">
<area shape="rect" id="node2" href="optical__flow__landing_8c.html#a089aaff33040a49a6598aad79528dd1e" title="Initialize the optical flow landing module. " alt="" coords="196,5,372,32"/><area shape="rect" id="node3" href="optical__flow__landing_8c.html#a535ad2dedb628ec10707a6c0448c525e" title="guidance_v_module_init" alt="" coords="420,5,595,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a089aaff33040a49a6598aad79528dd1e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vertical_ctrl_module_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the optical flow landing module. </p>

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00195">195</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>References <a class="el" href="optical__flow__landing_8h_source.html#l00050">OpticalFlowLanding::agl</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00051">OpticalFlowLanding::agl_lp</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00064">OpticalFlowLanding::CONTROL_METHOD</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00066">OpticalFlowLanding::cov_limit</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00070">OpticalFlowLanding::COV_METHOD</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00065">OpticalFlowLanding::cov_set_point</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00061">OpticalFlowLanding::d_err</a>, <a class="el" href="telemetry_8h_source.html#l00066">DefaultPeriodic</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00071">OpticalFlowLanding::delay_steps</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00057">OpticalFlowLanding::dgain</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00069">OpticalFlowLanding::dgain_adaptive</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00058">OpticalFlowLanding::divergence</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00054">OpticalFlowLanding::divergence_setpoint</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00077">OpticalFlowLanding::elc_oscillate</a>, <a class="el" href="rotorcraft_2guidance_2guidance__v_8c_source.html#l00104">guidance_v_nominal_throttle</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00056">OpticalFlowLanding::igain</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00068">OpticalFlowLanding::igain_adaptive</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00052">OpticalFlowLanding::lp_const</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00074">OpticalFlowLanding::lp_cov_div_factor</a>, <a class="el" href="paparazzi_8h_source.html#l00008">MAX_PPRZ</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00062">OpticalFlowLanding::nominal_thrust</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00157">of_landing_ctrl</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00064">OFL_AGL_ID</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00092">OFL_CONTROL_METHOD</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00105">OFL_COV_LANDING_LIMIT</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00096">OFL_COV_METHOD</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00109">OFL_COV_SETPOINT</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00101">OFL_COV_WINDOW_SIZE</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00084">OFL_DGAIN</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00121">OFL_ELC_OSCILLATE</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00080">OFL_IGAIN</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00113">OFL_LP_CONST</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00070">OFL_OPTICAL_FLOW_ID</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00117">OFL_P_LAND_THRESHOLD</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00076">OFL_PGAIN</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00088">OFL_VISION_METHOD</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00076">OpticalFlowLanding::p_land_threshold</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00055">OpticalFlowLanding::pgain</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00067">OpticalFlowLanding::pgain_adaptive</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00059">OpticalFlowLanding::previous_err</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00073">OpticalFlowLanding::reduction_factor_elc</a>, <a class="el" href="telemetry_8c_source.html#l00046">register_periodic_telemetry()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00243">reset_all_vars()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00160">send_divergence()</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00060">OpticalFlowLanding::sum_err</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00075">OpticalFlowLanding::t_transition</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00053">OpticalFlowLanding::vel</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00595">vertical_ctrl_agl_cb()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00600">vertical_ctrl_optical_flow_cb()</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00063">OpticalFlowLanding::VISION_METHOD</a>, and <a class="el" href="optical__flow__landing_8h_source.html#l00072">OpticalFlowLanding::window_size</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00610">guidance_v_module_init()</a>.</p>

<p><div id="dynsection-13" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_a089aaff33040a49a6598aad79528dd1e_cgraph.png" border="0" usemap="#optical__flow__landing_8c_a089aaff33040a49a6598aad79528dd1e_cgraph" alt=""/></div>
<map name="optical__flow__landing_8c_a089aaff33040a49a6598aad79528dd1e_cgraph" id="optical__flow__landing_8c_a089aaff33040a49a6598aad79528dd1e_cgraph">
<area shape="rect" id="node2" href="telemetry_8c.html#a8b8cf43739f06c54d16370c141b541a0" title="Register a telemetry callback function. " alt="" coords="229,31,427,57"/><area shape="rect" id="node3" href="optical__flow__landing_8c.html#a46c9da8aa58fea58306c6a47b9f21c89" title="Reset all variables: " alt="" coords="273,81,383,108"/><area shape="rect" id="node17" href="optical__flow__landing_8c.html#afd99ef7471eed18456a2952ad85f30c5" title="send_divergence" alt="" coords="263,132,393,159"/><area shape="rect" id="node18" href="optical__flow__landing_8c.html#a3bcd862f437ba8c9b6f39ca5aab90b9e" title="Function definitions Callback function of the ground altitude. " alt="" coords="257,183,399,209"/><area shape="rect" id="node19" href="optical__flow__landing_8c.html#a83da7a3371ee4d7b0b0705fcd3c77954" title="vertical_ctrl_optical\l_flow_cb" alt="" coords="256,234,400,275"/><area shape="rect" id="node4" href="sys__time_8h.html#af486c2fb33d8d33645256a9970eb056e" title="Get the time in seconds since startup. " alt="" coords="485,56,627,83"/><area shape="rect" id="node5" href="group__state__position.html#ga545d479db45e1a9711e59736b6d1309b" title="Get position in local ENU coordinates (float). " alt="" coords="475,107,637,133"/><area shape="rect" id="node6" href="group__state__position.html#ga718066acd9581365ca5c2aacb29130fd" title="stateCalcPositionEnu_f" alt="" coords="685,107,852,133"/><area shape="rect" id="node7" href="pprz__geodetic__float_8c.html#a2a82ebdce90a3e41d54f72c5e787fcd0" title="enu_of_ecef_point_f" alt="" coords="1087,56,1236,83"/><area shape="rect" id="node8" href="group__math__geodetic__int.html#ga710a45725431766f0a003ba93cb58a11" title="Convert a ECEF position to local ENU. " alt="" coords="900,5,1039,32"/><area shape="rect" id="node10" href="pprz__geodetic__float_8c.html#ab8d5cb7292ea74802e7a94e265c0703a" title="enu_of_lla_point_f" alt="" coords="901,107,1037,133"/><area shape="rect" id="node12" href="group__math__geodetic__int.html#ga386f7bf340618bf1454ca2a3b5086100" title="Convert a LLA to ECEF. " alt="" coords="920,157,1019,184"/><area shape="rect" id="node14" href="pprz__geodetic__float_8c.html#af99d4775df518f30b741b49c26eceedd" title="utm_of_lla_f" alt="" coords="920,208,1019,235"/><area shape="rect" id="node9" href="group__math__geodetic__int.html#ga85bcbfc73a43b120465422ec55647573" title="Convert a point from ECEF to local ENU. " alt="" coords="1087,5,1235,32"/><area shape="rect" id="node11" href="pprz__geodetic__float_8c.html#a65bc5ba8b61d014ca659035759cc001c" title="ecef_of_lla_f" alt="" coords="1111,107,1211,133"/><area shape="rect" id="node13" href="group__math__geodetic__double.html#gae6608c48696daebf3382f08e655028d9" title="ecef_of_lla_d" alt="" coords="1109,157,1213,184"/><area shape="rect" id="node15" href="pprz__geodetic__float_8c.html#a25c5bd31de0ea0d0caf14a0d217ad3ea" title="isometric_latitude_f" alt="" coords="1088,208,1235,235"/><area shape="rect" id="node16" href="pprz__geodetic__float_8c.html#a21ea1b369f7d4abd984fb89c488dde24" title="isometric_latitude\l_fast_f" alt="" coords="1093,259,1229,301"/></map>
</div>
</p>

<p><div id="dynsection-14" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_a089aaff33040a49a6598aad79528dd1e_icgraph.png" border="0" usemap="#optical__flow__landing_8c_a089aaff33040a49a6598aad79528dd1e_icgraph" alt=""/></div>
<map name="optical__flow__landing_8c_a089aaff33040a49a6598aad79528dd1e_icgraph" id="optical__flow__landing_8c_a089aaff33040a49a6598aad79528dd1e_icgraph">
<area shape="rect" id="node2" href="optical__flow__landing_8c.html#a535ad2dedb628ec10707a6c0448c525e" title="guidance_v_module_init" alt="" coords="229,5,404,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9628e4f2b9a046bb7ff80c208ab85daa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vertical_ctrl_module_run </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>in_flight</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run the optical flow landing module. </p>

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00288">288</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>References <a class="el" href="optical__flow__landing_8h_source.html#l00050">OpticalFlowLanding::agl</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00051">OpticalFlowLanding::agl_lp</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00064">OpticalFlowLanding::CONTROL_METHOD</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00136">cov_div</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00066">OpticalFlowLanding::cov_limit</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00070">OpticalFlowLanding::COV_METHOD</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00065">OpticalFlowLanding::cov_set_point</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00057">OpticalFlowLanding::dgain</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00058">OpticalFlowLanding::divergence</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00054">OpticalFlowLanding::divergence_setpoint</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00134">divergence_vision_dt</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00139">dstate</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00149">elc_d_gain_start</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00149">elc_i_gain_start</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00077">OpticalFlowLanding::elc_oscillate</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00149">elc_p_gain_start</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00148">elc_time_start</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00502">final_landing_procedure()</a>, <a class="el" href="sys__time_8h_source.html#l00129">get_sys_time_float()</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00056">OpticalFlowLanding::igain</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00068">OpticalFlowLanding::igain_adaptive</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00130">INCREASE_GAIN_PER_SECOND</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00138">istate</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00052">OpticalFlowLanding::lp_const</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00074">OpticalFlowLanding::lp_cov_div_factor</a>, <a class="el" href="paparazzi_8h_source.html#l00008">MAX_PPRZ</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00127">MINIMUM_GAIN</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00062">OpticalFlowLanding::nominal_thrust</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00157">of_landing_ctrl</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00076">OpticalFlowLanding::p_land_threshold</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00055">OpticalFlowLanding::pgain</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00067">OpticalFlowLanding::pgain_adaptive</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00555">PID_divergence_control()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00140">prev_vision_time</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00137">pstate</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00137">pused</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00073">OpticalFlowLanding::reduction_factor_elc</a>, <a class="el" href="stabilization_8c_source.html#l00028">stabilization_cmd</a>, <a class="el" href="state_8h_source.html#l00719">stateGetPositionEnu_f()</a>, <a class="el" href="state_8h_source.html#l00917">stateGetSpeedEnu_f()</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00060">OpticalFlowLanding::sum_err</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00075">OpticalFlowLanding::t_transition</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00143">thrust_set</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00053">OpticalFlowLanding::vel</a>, <a class="el" href="optical__flow__landing_8h_source.html#l00063">OpticalFlowLanding::VISION_METHOD</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00140">vision_time</a>, and <a class="el" href="pprz__geodetic__float_8h_source.html#l00075">EnuCoor_f::z</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00627">guidance_v_module_run()</a>.</p>

<p><div id="dynsection-15" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_a9628e4f2b9a046bb7ff80c208ab85daa_cgraph.png" border="0" usemap="#optical__flow__landing_8c_a9628e4f2b9a046bb7ff80c208ab85daa_cgraph" alt=""/></div>
<map name="optical__flow__landing_8c_a9628e4f2b9a046bb7ff80c208ab85daa_cgraph" id="optical__flow__landing_8c_a9628e4f2b9a046bb7ff80c208ab85daa_cgraph">
<area shape="rect" id="node2" href="optical__flow__landing_8c.html#aff9f937ef0bdd8faf29e3487b95eb808" title="Execute a final landing procedure. " alt="" coords="232,21,405,48"/><area shape="rect" id="node3" href="sys__time_8h.html#af486c2fb33d8d33645256a9970eb056e" title="Get the time in seconds since startup. " alt="" coords="247,72,390,99"/><area shape="rect" id="node4" href="optical__flow__landing_8c.html#a3a43c6fe7380d2c3fcadc9dfa82faa2b" title="Determine and set the thrust for constant divergence control. " alt="" coords="233,123,404,149"/><area shape="rect" id="node8" href="group__state__position.html#ga545d479db45e1a9711e59736b6d1309b" title="Get position in local ENU coordinates (float). " alt="" coords="237,173,400,200"/><area shape="rect" id="node20" href="group__state__velocity.html#ga8e7f86fe83bd1b767f9c5016ed245822" title="Get ground speed in local ENU coordinates (float). " alt="" coords="241,249,396,276"/><area shape="rect" id="node5" href="optical__flow__landing_8c.html#a529beff707cc000dee0afe4234074da4" title="Set the covariance of the divergence and the thrust / past divergence This funciton should only be ca..." alt="" coords="489,47,585,73"/><area shape="rect" id="node7" href="optical__flow__landing_8c.html#a98c93c23a226634b228e322b12fe474a" title="Updates the integral and differential errors for PID control and sets the previous error..." alt="" coords="481,123,593,149"/><area shape="rect" id="node6" href="pprz__stat_8c.html#ac75c0169ede28d21ada6d51e7431ea18" title="Compute the covariance of two arrays V(X) = E[(X&#45;E[X])(Y&#45;E[Y])] = E[XY] &#45; E[X]E[Y] where E[X] is the ..." alt="" coords="689,17,791,44"/><area shape="rect" id="node9" href="group__state__position.html#ga718066acd9581365ca5c2aacb29130fd" title="stateCalcPositionEnu_f" alt="" coords="453,173,620,200"/><area shape="rect" id="node10" href="pprz__geodetic__float_8c.html#a2a82ebdce90a3e41d54f72c5e787fcd0" title="enu_of_ecef_point_f" alt="" coords="860,224,1009,251"/><area shape="rect" id="node11" href="group__math__geodetic__int.html#ga710a45725431766f0a003ba93cb58a11" title="Convert a ECEF position to local ENU. " alt="" coords="671,275,809,301"/><area shape="rect" id="node13" href="pprz__geodetic__float_8c.html#ab8d5cb7292ea74802e7a94e265c0703a" title="enu_of_lla_point_f" alt="" coords="672,173,808,200"/><area shape="rect" id="node15" href="group__math__geodetic__int.html#ga386f7bf340618bf1454ca2a3b5086100" title="Convert a LLA to ECEF. " alt="" coords="691,123,789,149"/><area shape="rect" id="node17" href="pprz__geodetic__float_8c.html#af99d4775df518f30b741b49c26eceedd" title="utm_of_lla_f" alt="" coords="691,68,789,95"/><area shape="rect" id="node12" href="group__math__geodetic__int.html#ga85bcbfc73a43b120465422ec55647573" title="Convert a point from ECEF to local ENU. " alt="" coords="861,275,1009,301"/><area shape="rect" id="node14" href="pprz__geodetic__float_8c.html#a65bc5ba8b61d014ca659035759cc001c" title="ecef_of_lla_f" alt="" coords="885,173,985,200"/><area shape="rect" id="node16" href="group__math__geodetic__double.html#gae6608c48696daebf3382f08e655028d9" title="ecef_of_lla_d" alt="" coords="883,123,987,149"/><area shape="rect" id="node18" href="pprz__geodetic__float_8c.html#a25c5bd31de0ea0d0caf14a0d217ad3ea" title="isometric_latitude_f" alt="" coords="861,5,1008,32"/><area shape="rect" id="node19" href="pprz__geodetic__float_8c.html#a21ea1b369f7d4abd984fb89c488dde24" title="isometric_latitude\l_fast_f" alt="" coords="867,57,1003,98"/><area shape="rect" id="node21" href="group__state__velocity.html#ga2f7eff6a1ac5d75adf7f70803be06483" title="stateCalcSpeedEnu_f" alt="" coords="457,275,616,301"/><area shape="rect" id="node22" href="pprz__geodetic__float_8c.html#ac44c5ea35811dcd7f50fb3741d0c12ad" title="enu_of_ecef_vect_f" alt="" coords="668,325,812,352"/></map>
</div>
</p>

<p><div id="dynsection-16" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_a9628e4f2b9a046bb7ff80c208ab85daa_icgraph.png" border="0" usemap="#optical__flow__landing_8c_a9628e4f2b9a046bb7ff80c208ab85daa_icgraph" alt=""/></div>
<map name="optical__flow__landing_8c_a9628e4f2b9a046bb7ff80c208ab85daa_icgraph" id="optical__flow__landing_8c_a9628e4f2b9a046bb7ff80c208ab85daa_icgraph">
<area shape="rect" id="node2" href="vertical__ctrl__module__demo_8h.html#a24ef9289dfa15084a7457a97ad7632c8" title="guidance_v_module_run" alt="" coords="232,5,409,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a83da7a3371ee4d7b0b0705fcd3c77954"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vertical_ctrl_optical_flow_cb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> sender_id&#160;</td>
          <td class="paramname"><em>UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>stamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a> flow_x&#160;</td>
          <td class="paramname"><em>UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a> flow_y&#160;</td>
          <td class="paramname"><em>UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a> flow_der_x&#160;</td>
          <td class="paramname"><em>UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a269259c924dce846340ddbb810db2e3c">int16_t</a> flow_der_y&#160;</td>
          <td class="paramname"><em>UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float quality&#160;</td>
          <td class="paramname"><em>UNUSED</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>size_divergence</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float dist&#160;</td>
          <td class="paramname"><em>UNUSED</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00600">600</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00195">vertical_ctrl_module_init()</a>.</p>

<p><div id="dynsection-17" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="optical__flow__landing_8c_a83da7a3371ee4d7b0b0705fcd3c77954_icgraph.png" border="0" usemap="#optical__flow__landing_8c_a83da7a3371ee4d7b0b0705fcd3c77954_icgraph" alt=""/></div>
<map name="optical__flow__landing_8c_a83da7a3371ee4d7b0b0705fcd3c77954_icgraph" id="optical__flow__landing_8c_a83da7a3371ee4d7b0b0705fcd3c77954_icgraph">
<area shape="rect" id="node2" href="optical__flow__landing_8c.html#a089aaff33040a49a6598aad79528dd1e" title="Initialize the optical flow landing module. " alt="" coords="197,13,373,39"/><area shape="rect" id="node3" href="optical__flow__landing_8c.html#a535ad2dedb628ec10707a6c0448c525e" title="guidance_v_module_init" alt="" coords="421,13,596,39"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="afa50262a1e494235831469694c69b177"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="abi__common_8h.html#a60f71f1b8ca24759458ed4f700f02814">abi_event</a> agl_ev</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The altitude ABI event. </p>

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00153">153</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae0a1bb9bcd3bde723005da2558d0e149"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a2ba621978a511250f7250fb10e05ffbe">int32_t</a> count_covdiv</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00150">150</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

</div>
</div>
<a class="anchor" id="a73f200132b3c846f4b218a930fcf8945"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> cov_array_filled</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00187">187</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

</div>
</div>
<a class="anchor" id="af1eb4bb0fed2c8f7231d95df4e76de42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float cov_div</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00136">136</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00288">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="adfbd330fc4bfaf45efffa4e1b7aeecdc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float divergence_history[<a class="el" href="optical__flow__landing_8c.html#ab306dcd58bcaf5c687c19f6af5ab949e">OFL_COV_WINDOW_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00184">184</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

</div>
</div>
<a class="anchor" id="a6a8bf96823965c06683ab4c082a95c0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float divergence_setpoint</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00144">144</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7a59ca2aeff4d163658a4e7e12a02dd8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float divergence_vision</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00133">133</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

</div>
</div>
<a class="anchor" id="a99432c0bee7e762ef48150e334024ac6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float divergence_vision_dt</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00134">134</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00288">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="a86c748c82bce971d2d334c70b71d6b89"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float dstate</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00139">139</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00288">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="a1d12fd04a87fed301e3a094dcbc7ebbe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float elc_d_gain_start</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00149">149</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00288">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="a6d40fbb7e802a30f4d980e33a763c6b0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float elc_i_gain_start</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00149">149</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00288">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="a96ad501e1b7535527200d6eb10f9f64b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float elc_p_gain_start</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00149">149</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00288">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="a80596a926a1f27fa395e03555b0b5411"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a2ba621978a511250f7250fb10e05ffbe">int32_t</a> elc_phase</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00147">147</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

</div>
</div>
<a class="anchor" id="af0211cb925953fd1f3d748965d9e887b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> elc_time_start</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00148">148</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00288">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="a61051013fe6710b90bb88d024b3b4f76"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a06896e8c53f721507066c079052171f8">uint32_t</a> ind_hist</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00186">186</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00518">set_cov_div()</a>.</p>

</div>
</div>
<a class="anchor" id="a6ecfbfb994060f42f2f308d40ad7bca7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float istate</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00138">138</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00288">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="a1bc10d0a8a0a8b5ebed8c30c55cc23af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool landing</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00141">141</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

</div>
</div>
<a class="anchor" id="a9308622ab987cd91e350be5cc56a3697"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float lp_cov_div</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00151">151</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

</div>
</div>
<a class="anchor" id="a22f278c7a6c8471f63e12eb324d7f021"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float normalized_thrust</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00135">135</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00518">set_cov_div()</a>.</p>

</div>
</div>
<a class="anchor" id="ad4982b2ef527a9bb63dad1833b51849b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="optical__flow__landing_8h.html#structOpticalFlowLanding">OpticalFlowLanding</a> of_landing_ctrl</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00157">157</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00502">final_landing_procedure()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00618">guidance_v_module_enter()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00555">PID_divergence_control()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00243">reset_all_vars()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00160">send_divergence()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00518">set_cov_div()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00583">update_errors()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00595">vertical_ctrl_agl_cb()</a>, <a class="el" href="optical__flow__landing_8c_source.html#l00195">vertical_ctrl_module_init()</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00288">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="a141009974fbc44658bdd3334ff2e1d62"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="abi__common_8h.html#a60f71f1b8ca24759458ed4f700f02814">abi_event</a> optical_flow_ev</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00154">154</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa3270c13821522ff3a44f9cc2e4ec7d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float past_divergence_history[<a class="el" href="optical__flow__landing_8c.html#ab306dcd58bcaf5c687c19f6af5ab949e">OFL_COV_WINDOW_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00185">185</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

</div>
</div>
<a class="anchor" id="a8f9312e31916e79187f1000c3add2201"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float prev_vision_time</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00140">140</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00288">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="a1ded965fdb67e8374e03fbfff564ee79"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float previous_cov_err</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00142">142</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

</div>
</div>
<a class="anchor" id="aad4e3c7c6d53e37efe585248474b4b38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float pstate</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00137">137</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00243">reset_all_vars()</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00288">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="a900b0336b231dbc0555dddc5e3331b46"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float pused</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00137">137</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00288">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="ad2aa30a9eac8fd693f1b8f1bcb38b81a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float thrust_history[<a class="el" href="optical__flow__landing_8c.html#ab306dcd58bcaf5c687c19f6af5ab949e">OFL_COV_WINDOW_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00183">183</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4b7147874746b156b88f302773b16e08"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#a2ba621978a511250f7250fb10e05ffbe">int32_t</a> thrust_set</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00143">143</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00288">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
<a class="anchor" id="abd5a06e2001ffc5bf0a717fba0bffd80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float vision_time</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="optical__flow__landing_8c_source.html#l00140">140</a> of file <a class="el" href="optical__flow__landing_8c_source.html">optical_flow_landing.c</a>.</p>

<p>Referenced by <a class="el" href="optical__flow__landing_8c_source.html#l00243">reset_all_vars()</a>, and <a class="el" href="optical__flow__landing_8c_source.html#l00288">vertical_ctrl_module_run()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_01fcd3835fb4e7d9331b722d86291b65.html">sw</a></li><li class="navelem"><a class="el" href="dir_5e9153041680afc3c016fd52fa730b56.html">airborne</a></li><li class="navelem"><a class="el" href="dir_c2abcdd6ccb39c3582929c0e3f5651c2.html">modules</a></li><li class="navelem"><a class="el" href="dir_94757629c544be2d6d24b01569be56e6.html">ctrl</a></li><li class="navelem"><a class="el" href="optical__flow__landing_8c.html">optical_flow_landing.c</a></li>
    <li class="footer">Generated on Wed Nov 8 2017 12:03:05 for Paparazzi UAS by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
