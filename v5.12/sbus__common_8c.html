<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Paparazzi UAS: sw/airborne/subsystems/radio_control/sbus_common.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="penguin_icon.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Paparazzi UAS
   &#160;<span id="projectnumber">v5.12_stable-2-g9c592a7-dirty</span>
   </div>
   <div id="projectbrief">Paparazzi is a free software Unmanned Aircraft System.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('sbus__common_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sbus_common.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Futaba SBUS decoder.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="radio__control_8h_source.html">subsystems/radio_control.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sbus__common_8h_source.html">subsystems/radio_control/sbus_common.h</a>&quot;</code><br />
<code>#include &lt;BOARD_CONFIG&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for sbus_common.c:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="sbus__common_8c__incl.png" border="0" usemap="#sw_2airborne_2subsystems_2radio__control_2sbus__common_8c" alt=""/></div>
<map name="sw_2airborne_2subsystems_2radio__control_2sbus__common_8c" id="sw_2airborne_2subsystems_2radio__control_2sbus__common_8c">
<area shape="rect" id="node2" href="radio__control_8h.html" title="subsystems/radio_control.h" alt="" coords="239,102,437,129"/><area shape="rect" id="node9" href="sbus__common_8h.html" title="Common sbus structs and defines. " alt="" coords="647,95,834,136"/><area shape="rect" id="node3" href="led_8h.html" title="arch independent LED (Light Emitting Diodes) API " alt="" coords="213,184,266,211"/><area shape="rect" id="node6" href="paparazzi_8h.html" title="paparazzi.h" alt="" coords="290,184,386,211"/><area shape="rect" id="node7" href="inttypes_8h.html" title="inttypes.h" alt="" coords="290,259,375,285"/><area shape="rect" id="node11" href="uart_8h.html" title="arch independent UART (Universal Asynchronous Receiver/Transmitter) API " alt="" coords="618,184,757,211"/><area shape="rect" id="node14" href="gpio_8h.html" title="Some architecture independent helper functions for GPIOs. " alt="" coords="832,184,972,211"/></map>
</div>
</div>
<p><a href="sbus__common_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2886bfcf0b1cc50fbcd80c207f74131f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sbus__common_8c.html#a2886bfcf0b1cc50fbcd80c207f74131f">SBUS_START_BYTE</a>&#160;&#160;&#160;0x0f</td></tr>
<tr class="separator:a2886bfcf0b1cc50fbcd80c207f74131f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93ffb063d98a3e02a1acd544b6c3a94c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sbus__common_8c.html#a93ffb063d98a3e02a1acd544b6c3a94c">SBUS_END_BYTE_0</a>&#160;&#160;&#160;0x00</td></tr>
<tr class="separator:a93ffb063d98a3e02a1acd544b6c3a94c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a963a93a21f974a18727786078949fb9b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sbus__common_8c.html#a963a93a21f974a18727786078949fb9b">SBUS_END_BYTE_1</a>&#160;&#160;&#160;0x04</td></tr>
<tr class="separator:a963a93a21f974a18727786078949fb9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45ca7cbe604f6745fe1bebf324c246ee"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sbus__common_8c.html#a45ca7cbe604f6745fe1bebf324c246ee">SBUS_END_BYTE_2</a>&#160;&#160;&#160;0x14</td></tr>
<tr class="separator:a45ca7cbe604f6745fe1bebf324c246ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87f078b71f26886e4f6baa9bef0e1ff4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sbus__common_8c.html#a87f078b71f26886e4f6baa9bef0e1ff4">SBUS_END_BYTE_3</a>&#160;&#160;&#160;0x24</td></tr>
<tr class="separator:a87f078b71f26886e4f6baa9bef0e1ff4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43a248160d2320e1cfb504870ff9482c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sbus__common_8c.html#a43a248160d2320e1cfb504870ff9482c">SBUS_END_BYTE_4</a>&#160;&#160;&#160;0x34</td></tr>
<tr class="separator:a43a248160d2320e1cfb504870ff9482c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae77f078aced99e05dc0ab5f89292a812"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sbus__common_8c.html#ae77f078aced99e05dc0ab5f89292a812">SBUS_END_BYTE_5</a>&#160;&#160;&#160;0x08</td></tr>
<tr class="separator:ae77f078aced99e05dc0ab5f89292a812"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af410d706508c510446b23150520e81b4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sbus__common_8c.html#af410d706508c510446b23150520e81b4">SBUS_BIT_PER_CHANNEL</a>&#160;&#160;&#160;11</td></tr>
<tr class="separator:af410d706508c510446b23150520e81b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe0a3f4fe29d043cdacd59b03e123678"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sbus__common_8c.html#afe0a3f4fe29d043cdacd59b03e123678">SBUS_BIT_PER_BYTE</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:afe0a3f4fe29d043cdacd59b03e123678"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbe67c3800e9316c31eafd4f021faf68"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sbus__common_8c.html#afbe67c3800e9316c31eafd4f021faf68">SBUS_FLAGS_BYTE</a>&#160;&#160;&#160;22</td></tr>
<tr class="separator:afbe67c3800e9316c31eafd4f021faf68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea1648f19d6579c0c6834a453fc4c779"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sbus__common_8c.html#aea1648f19d6579c0c6834a453fc4c779">SBUS_FRAME_LOST_BIT</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:aea1648f19d6579c0c6834a453fc4c779"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60a5f13624f378d1e691872cb5533481"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sbus__common_8c.html#a60a5f13624f378d1e691872cb5533481">SBUS_STATUS_UNINIT</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a60a5f13624f378d1e691872cb5533481"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78bd8c830e8bf9a58f90b63b44bb9826"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sbus__common_8c.html#a78bd8c830e8bf9a58f90b63b44bb9826">SBUS_STATUS_GOT_START</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a78bd8c830e8bf9a58f90b63b44bb9826"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50ec2ad5fe4db9bf380763480ac16af5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sbus__common_8c.html#a50ec2ad5fe4db9bf380763480ac16af5">RC_SET_POLARITY</a>&#160;&#160;&#160;<a class="el" href="gpio__ardrone_8c.html#a573af743c8006ae98e309d4bc9284c85">gpio_set</a></td></tr>
<tr class="memdesc:a50ec2ad5fe4db9bf380763480ac16af5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set polarity using RC_POLARITY_GPIO.  <a href="#a50ec2ad5fe4db9bf380763480ac16af5">More...</a><br /></td></tr>
<tr class="separator:a50ec2ad5fe4db9bf380763480ac16af5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1c2c32e690c83c19a8f9b3581b66cc5a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sbus__common_8c.html#a1c2c32e690c83c19a8f9b3581b66cc5a">sbus_common_init</a> (struct <a class="el" href="sbus__common_8h.html#structSbus">Sbus</a> *sbus_p, struct <a class="el" href="uart_8h.html#structuart__periph">uart_periph</a> *<a class="el" href="stm32_2usb__ser__hw_8c.html#af2dab4ea4560c93acc64b4418db49f84">dev</a>, <a class="el" href="chibios_2mcu__periph_2gpio__arch_8h.html#a9b70aff93b967dba18363c475eba9e03">gpio_port_t</a> gpio_polarity_port, <a class="el" href="types_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> gpio_polarity_pin)</td></tr>
<tr class="memdesc:a1c2c32e690c83c19a8f9b3581b66cc5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Init function.  <a href="#a1c2c32e690c83c19a8f9b3581b66cc5a">More...</a><br /></td></tr>
<tr class="separator:a1c2c32e690c83c19a8f9b3581b66cc5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4709831177d7353573127a61a5605b36"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sbus__common_8c.html#a4709831177d7353573127a61a5605b36">decode_sbus_buffer</a> (const <a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *src, <a class="el" href="types_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> *dst, bool *available, <a class="el" href="types_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> *dstppm)</td></tr>
<tr class="memdesc:a4709831177d7353573127a61a5605b36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decode the raw buffer.  <a href="#a4709831177d7353573127a61a5605b36">More...</a><br /></td></tr>
<tr class="separator:a4709831177d7353573127a61a5605b36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a369db0efa4a3e8ac7e0b205a5c9740"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sbus__common_8c.html#a3a369db0efa4a3e8ac7e0b205a5c9740">sbus_common_decode_event</a> (struct <a class="el" href="sbus__common_8h.html#structSbus">Sbus</a> *sbus_p, struct <a class="el" href="uart_8h.html#structuart__periph">uart_periph</a> *<a class="el" href="stm32_2usb__ser__hw_8c.html#af2dab4ea4560c93acc64b4418db49f84">dev</a>)</td></tr>
<tr class="memdesc:a3a369db0efa4a3e8ac7e0b205a5c9740"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decoding event function.  <a href="#a3a369db0efa4a3e8ac7e0b205a5c9740">More...</a><br /></td></tr>
<tr class="separator:a3a369db0efa4a3e8ac7e0b205a5c9740"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Futaba SBUS decoder. </p>

<p>Definition in file <a class="el" href="sbus__common_8c_source.html">sbus_common.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a50ec2ad5fe4db9bf380763480ac16af5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RC_SET_POLARITY&#160;&#160;&#160;<a class="el" href="gpio__ardrone_8c.html#a573af743c8006ae98e309d4bc9284c85">gpio_set</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set polarity using RC_POLARITY_GPIO. </p>
<p>SBUS signal has a reversed polarity compared to normal UART this allows to using hardware UART peripheral by changing the input signal polarity. Setting this gpio ouput high inverts the signal, output low sets it to normal polarity. </p>

<p>Definition at line <a class="el" href="sbus__common_8c_source.html#l00057">57</a> of file <a class="el" href="sbus__common_8c_source.html">sbus_common.c</a>.</p>

<p>Referenced by <a class="el" href="sbus__common_8c_source.html#l00061">sbus_common_init()</a>.</p>

</div>
</div>
<a class="anchor" id="afe0a3f4fe29d043cdacd59b03e123678"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SBUS_BIT_PER_BYTE&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sbus__common_8c_source.html#l00042">42</a> of file <a class="el" href="sbus__common_8c_source.html">sbus_common.c</a>.</p>

</div>
</div>
<a class="anchor" id="af410d706508c510446b23150520e81b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SBUS_BIT_PER_CHANNEL&#160;&#160;&#160;11</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sbus__common_8c_source.html#l00041">41</a> of file <a class="el" href="sbus__common_8c_source.html">sbus_common.c</a>.</p>

</div>
</div>
<a class="anchor" id="a93ffb063d98a3e02a1acd544b6c3a94c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SBUS_END_BYTE_0&#160;&#160;&#160;0x00</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sbus__common_8c_source.html#l00035">35</a> of file <a class="el" href="sbus__common_8c_source.html">sbus_common.c</a>.</p>

<p>Referenced by <a class="el" href="sbus__common_8c_source.html#l00117">sbus_common_decode_event()</a>.</p>

</div>
</div>
<a class="anchor" id="a963a93a21f974a18727786078949fb9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SBUS_END_BYTE_1&#160;&#160;&#160;0x04</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sbus__common_8c_source.html#l00036">36</a> of file <a class="el" href="sbus__common_8c_source.html">sbus_common.c</a>.</p>

<p>Referenced by <a class="el" href="sbus__common_8c_source.html#l00117">sbus_common_decode_event()</a>.</p>

</div>
</div>
<a class="anchor" id="a45ca7cbe604f6745fe1bebf324c246ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SBUS_END_BYTE_2&#160;&#160;&#160;0x14</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sbus__common_8c_source.html#l00037">37</a> of file <a class="el" href="sbus__common_8c_source.html">sbus_common.c</a>.</p>

<p>Referenced by <a class="el" href="sbus__common_8c_source.html#l00117">sbus_common_decode_event()</a>.</p>

</div>
</div>
<a class="anchor" id="a87f078b71f26886e4f6baa9bef0e1ff4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SBUS_END_BYTE_3&#160;&#160;&#160;0x24</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sbus__common_8c_source.html#l00038">38</a> of file <a class="el" href="sbus__common_8c_source.html">sbus_common.c</a>.</p>

<p>Referenced by <a class="el" href="sbus__common_8c_source.html#l00117">sbus_common_decode_event()</a>.</p>

</div>
</div>
<a class="anchor" id="a43a248160d2320e1cfb504870ff9482c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SBUS_END_BYTE_4&#160;&#160;&#160;0x34</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sbus__common_8c_source.html#l00039">39</a> of file <a class="el" href="sbus__common_8c_source.html">sbus_common.c</a>.</p>

<p>Referenced by <a class="el" href="sbus__common_8c_source.html#l00117">sbus_common_decode_event()</a>.</p>

</div>
</div>
<a class="anchor" id="ae77f078aced99e05dc0ab5f89292a812"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SBUS_END_BYTE_5&#160;&#160;&#160;0x08</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sbus__common_8c_source.html#l00040">40</a> of file <a class="el" href="sbus__common_8c_source.html">sbus_common.c</a>.</p>

<p>Referenced by <a class="el" href="sbus__common_8c_source.html#l00117">sbus_common_decode_event()</a>.</p>

</div>
</div>
<a class="anchor" id="afbe67c3800e9316c31eafd4f021faf68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SBUS_FLAGS_BYTE&#160;&#160;&#160;22</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sbus__common_8c_source.html#l00043">43</a> of file <a class="el" href="sbus__common_8c_source.html">sbus_common.c</a>.</p>

<p>Referenced by <a class="el" href="sbus__common_8c_source.html#l00083">decode_sbus_buffer()</a>.</p>

</div>
</div>
<a class="anchor" id="aea1648f19d6579c0c6834a453fc4c779"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SBUS_FRAME_LOST_BIT&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sbus__common_8c_source.html#l00044">44</a> of file <a class="el" href="sbus__common_8c_source.html">sbus_common.c</a>.</p>

<p>Referenced by <a class="el" href="sbus__common_8c_source.html#l00083">decode_sbus_buffer()</a>.</p>

</div>
</div>
<a class="anchor" id="a2886bfcf0b1cc50fbcd80c207f74131f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SBUS_START_BYTE&#160;&#160;&#160;0x0f</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sbus__common_8c_source.html#l00034">34</a> of file <a class="el" href="sbus__common_8c_source.html">sbus_common.c</a>.</p>

<p>Referenced by <a class="el" href="sbus__common_8c_source.html#l00117">sbus_common_decode_event()</a>.</p>

</div>
</div>
<a class="anchor" id="a78bd8c830e8bf9a58f90b63b44bb9826"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SBUS_STATUS_GOT_START&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sbus__common_8c_source.html#l00047">47</a> of file <a class="el" href="sbus__common_8c_source.html">sbus_common.c</a>.</p>

<p>Referenced by <a class="el" href="sbus__common_8c_source.html#l00117">sbus_common_decode_event()</a>.</p>

</div>
</div>
<a class="anchor" id="a60a5f13624f378d1e691872cb5533481"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SBUS_STATUS_UNINIT&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sbus__common_8c_source.html#l00046">46</a> of file <a class="el" href="sbus__common_8c_source.html">sbus_common.c</a>.</p>

<p>Referenced by <a class="el" href="sbus__common_8c_source.html#l00117">sbus_common_decode_event()</a>, and <a class="el" href="sbus__common_8c_source.html#l00061">sbus_common_init()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a4709831177d7353573127a61a5605b36"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void decode_sbus_buffer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="types_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> *&#160;</td>
          <td class="paramname"><em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>available</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> *&#160;</td>
          <td class="paramname"><em>dstppm</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Decode the raw buffer. </p>

<p>Definition at line <a class="el" href="sbus__common_8c_source.html#l00083">83</a> of file <a class="el" href="sbus__common_8c_source.html">sbus_common.c</a>.</p>

<p>References <a class="el" href="ADS8344_8c_source.html#l00080">channel</a>, <a class="el" href="sbus__common_8c_source.html#l00043">SBUS_FLAGS_BYTE</a>, <a class="el" href="sbus__common_8c_source.html#l00044">SBUS_FRAME_LOST_BIT</a>, <a class="el" href="sbus__common_8h_source.html#l00063">SBUS_NB_CHANNEL</a>, and <a class="el" href="chibios_2subsystems_2radio__control_2ppm__arch_8h_source.html#l00046">USEC_OF_RC_PPM_TICKS</a>.</p>

<p>Referenced by <a class="el" href="sbus__common_8c_source.html#l00117">sbus_common_decode_event()</a>.</p>

<p><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="sbus__common_8c_a4709831177d7353573127a61a5605b36_icgraph.png" border="0" usemap="#sbus__common_8c_a4709831177d7353573127a61a5605b36_icgraph" alt=""/></div>
<map name="sbus__common_8c_a4709831177d7353573127a61a5605b36_icgraph" id="sbus__common_8c_a4709831177d7353573127a61a5605b36_icgraph">
<area shape="rect" id="node2" href="sbus__common_8h.html#ae8a17057cacb6e3b645d16793db3e21f" title="Decoding event function. " alt="" coords="204,37,375,79"/><area shape="rect" id="node3" href="sbus_8c.html#ab9abde1e7eda9299d04ff75e87910114" title="sbus_decode_event" alt="" coords="439,17,589,43"/><area shape="rect" id="node5" href="sbus__dual_8c.html#a7200c46b9e757d8be2409902d3c292cb" title="sbus_dual_decode_event" alt="" coords="423,71,605,98"/><area shape="rect" id="node4" href="sbus_8c.html#a760dbd4fa3f62cc43524fc420c2a9e5f" title="RC event function with handler callback. " alt="" coords="653,5,792,47"/><area shape="rect" id="node6" href="sbus__dual_8c.html#a760dbd4fa3f62cc43524fc420c2a9e5f" title="RC event function with handler callback. " alt="" coords="653,71,792,112"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3a369db0efa4a3e8ac7e0b205a5c9740"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sbus_common_decode_event </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="sbus__common_8h.html#structSbus">Sbus</a> *&#160;</td>
          <td class="paramname"><em>sbus_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="uart_8h.html#structuart__periph">uart_periph</a> *&#160;</td>
          <td class="paramname"><em>dev</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decoding event function. </p>

<p>Definition at line <a class="el" href="sbus__common_8c_source.html#l00117">117</a> of file <a class="el" href="sbus__common_8c_source.html">sbus_common.c</a>.</p>

<p>References <a class="el" href="sbus__common_8h_source.html#l00083">Sbus::buffer</a>, <a class="el" href="sbus__common_8c_source.html#l00083">decode_sbus_buffer()</a>, <a class="el" href="sbus__common_8h_source.html#l00082">Sbus::frame_available</a>, <a class="el" href="sbus__common_8h_source.html#l00084">Sbus::idx</a>, <a class="el" href="sbus__common_8h_source.html#l00081">Sbus::ppm</a>, <a class="el" href="sbus__common_8h_source.html#l00080">Sbus::pulses</a>, <a class="el" href="sbus__common_8h_source.html#l00062">SBUS_BUF_LENGTH</a>, <a class="el" href="sbus__common_8c_source.html#l00035">SBUS_END_BYTE_0</a>, <a class="el" href="sbus__common_8c_source.html#l00036">SBUS_END_BYTE_1</a>, <a class="el" href="sbus__common_8c_source.html#l00037">SBUS_END_BYTE_2</a>, <a class="el" href="sbus__common_8c_source.html#l00038">SBUS_END_BYTE_3</a>, <a class="el" href="sbus__common_8c_source.html#l00039">SBUS_END_BYTE_4</a>, <a class="el" href="sbus__common_8c_source.html#l00040">SBUS_END_BYTE_5</a>, <a class="el" href="sbus__common_8c_source.html#l00034">SBUS_START_BYTE</a>, <a class="el" href="sbus__common_8c_source.html#l00047">SBUS_STATUS_GOT_START</a>, <a class="el" href="sbus__common_8c_source.html#l00046">SBUS_STATUS_UNINIT</a>, <a class="el" href="sbus__common_8h_source.html#l00085">Sbus::status</a>, <a class="el" href="linux_2mcu__periph_2uart__arch_8c_source.html#l00323">uart_char_available()</a>, and <a class="el" href="chibios_2mcu__periph_2uart__arch_8c_source.html#l00840">uart_getch()</a>.</p>

<p>Referenced by <a class="el" href="sbus_8c_source.html#l00067">sbus_decode_event()</a>, and <a class="el" href="sbus__dual_8c_source.html#l00074">sbus_dual_decode_event()</a>.</p>

<p><div id="dynsection-2" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="sbus__common_8c_a3a369db0efa4a3e8ac7e0b205a5c9740_cgraph.png" border="0" usemap="#sbus__common_8c_a3a369db0efa4a3e8ac7e0b205a5c9740_cgraph" alt=""/></div>
<map name="sbus__common_8c_a3a369db0efa4a3e8ac7e0b205a5c9740_cgraph" id="sbus__common_8c_a3a369db0efa4a3e8ac7e0b205a5c9740_cgraph">
<area shape="rect" id="node2" href="sbus__common_8c.html#a4709831177d7353573127a61a5605b36" title="Decode the raw buffer. " alt="" coords="224,5,375,32"/><area shape="rect" id="node3" href="linux_2mcu__periph_2uart__arch_8c.html#abd0dcae4715bc91bdf3369785a9b6c87" title="Check UART for available chars in receive buffer. " alt="" coords="226,56,373,83"/><area shape="rect" id="node4" href="chibios_2mcu__periph_2uart__arch_8c.html#adb9a60ec94a31a08e6454ccf64f24039" title="uart_getch" alt="" coords="254,107,345,133"/></map>
</div>
</p>

<p><div id="dynsection-3" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="sbus__common_8c_a3a369db0efa4a3e8ac7e0b205a5c9740_icgraph.png" border="0" usemap="#sbus__common_8c_a3a369db0efa4a3e8ac7e0b205a5c9740_icgraph" alt=""/></div>
<map name="sbus__common_8c_a3a369db0efa4a3e8ac7e0b205a5c9740_icgraph" id="sbus__common_8c_a3a369db0efa4a3e8ac7e0b205a5c9740_icgraph">
<area shape="rect" id="node2" href="sbus_8c.html#ab9abde1e7eda9299d04ff75e87910114" title="sbus_decode_event" alt="" coords="241,17,390,43"/><area shape="rect" id="node4" href="sbus__dual_8c.html#a7200c46b9e757d8be2409902d3c292cb" title="sbus_dual_decode_event" alt="" coords="224,71,407,98"/><area shape="rect" id="node3" href="sbus_8c.html#a760dbd4fa3f62cc43524fc420c2a9e5f" title="RC event function with handler callback. " alt="" coords="455,5,593,47"/><area shape="rect" id="node5" href="sbus__dual_8c.html#a760dbd4fa3f62cc43524fc420c2a9e5f" title="RC event function with handler callback. " alt="" coords="455,71,593,112"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1c2c32e690c83c19a8f9b3581b66cc5a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sbus_common_init </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="sbus__common_8h.html#structSbus">Sbus</a> *&#160;</td>
          <td class="paramname"><em>sbus_p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="uart_8h.html#structuart__periph">uart_periph</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="chibios_2mcu__periph_2gpio__arch_8h.html#a9b70aff93b967dba18363c475eba9e03">gpio_port_t</a>&#160;</td>
          <td class="paramname"><em>gpio_polarity_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;</td>
          <td class="paramname"><em>gpio_polarity_pin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Init function. </p>

<p>Definition at line <a class="el" href="sbus__common_8c_source.html#l00061">61</a> of file <a class="el" href="sbus__common_8c_source.html">sbus_common.c</a>.</p>

<p>References <a class="el" href="chibios_2mcu__periph_2uart__arch_8h_source.html#l00047">B100000</a>, <a class="el" href="sbus__common_8h_source.html#l00082">Sbus::frame_available</a>, <a class="el" href="chibios_2mcu__periph_2gpio__arch_8c_source.html#l00033">gpio_setup_output()</a>, <a class="el" href="sbus__common_8c_source.html#l00057">RC_SET_POLARITY</a>, <a class="el" href="sbus__common_8c_source.html#l00046">SBUS_STATUS_UNINIT</a>, <a class="el" href="sbus__common_8h_source.html#l00085">Sbus::status</a>, <a class="el" href="uart_8c_source.html#l00299">uart_periph_invert_data_logic()</a>, <a class="el" href="chibios_2mcu__periph_2uart__arch_8c_source.html#l00856">uart_periph_set_baudrate()</a>, <a class="el" href="chibios_2mcu__periph_2uart__arch_8c_source.html#l00885">uart_periph_set_bits_stop_parity()</a>, <a class="el" href="serial__port_8c_source.html#l00050">UBITS_8</a>, <a class="el" href="serial__port_8c_source.html#l00057">UPARITY_EVEN</a>, and <a class="el" href="serial__port_8c_source.html#l00053">USTOP_2</a>.</p>

<p>Referenced by <a class="el" href="sbus_8c_source.html#l00054">radio_control_impl_init()</a>.</p>

<p><div id="dynsection-4" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="sbus__common_8c_a1c2c32e690c83c19a8f9b3581b66cc5a_cgraph.png" border="0" usemap="#sbus__common_8c_a1c2c32e690c83c19a8f9b3581b66cc5a_cgraph" alt=""/></div>
<map name="sbus__common_8c_a1c2c32e690c83c19a8f9b3581b66cc5a_cgraph" id="sbus__common_8c_a1c2c32e690c83c19a8f9b3581b66cc5a_cgraph">
<area shape="rect" id="node2" href="chibios_2mcu__periph_2gpio__arch_8c.html#a614c4a447f1e43381d92c682ac3b953f" title="Setup one or more pins of the given GPIO port as outputs. " alt="" coords="219,5,360,32"/><area shape="rect" id="node3" href="uart_8c.html#ad6430a7fdc6553a4696a873cc5ff3507" title="uart_periph_invert\l_data_logic" alt="" coords="220,57,359,98"/><area shape="rect" id="node4" href="chibios_2mcu__periph_2uart__arch_8c.html#a3eff2a82ddc632e5626c04ad4e717e3b" title="Set baudrate. " alt="" coords="196,123,383,149"/><area shape="rect" id="node5" href="chibios_2mcu__periph_2uart__arch_8c.html#a0cdaf8266fcef9b52d422621b36413d6" title="Set parity and stop bits. " alt="" coords="213,174,365,215"/></map>
</div>
</p>

<p><div id="dynsection-5" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="sbus__common_8c_a1c2c32e690c83c19a8f9b3581b66cc5a_icgraph.png" border="0" usemap="#sbus__common_8c_a1c2c32e690c83c19a8f9b3581b66cc5a_icgraph" alt=""/></div>
<map name="sbus__common_8c_a1c2c32e690c83c19a8f9b3581b66cc5a_icgraph" id="sbus__common_8c_a1c2c32e690c83c19a8f9b3581b66cc5a_icgraph">
<area shape="rect" id="node2" href="sbus_8c.html#a6ba4bebf68f7ff39f4569dfe3b1f2832" title="radio_control_impl_init" alt="" coords="196,5,361,32"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_01fcd3835fb4e7d9331b722d86291b65.html">sw</a></li><li class="navelem"><a class="el" href="dir_5e9153041680afc3c016fd52fa730b56.html">airborne</a></li><li class="navelem"><a class="el" href="dir_12d6ec7aac5a4a9b8cee17e35022d7c7.html">subsystems</a></li><li class="navelem"><a class="el" href="dir_a146ed466020daad33793c9994e8ab3e.html">radio_control</a></li><li class="navelem"><a class="el" href="sbus__common_8c.html">sbus_common.c</a></li>
    <li class="footer">Generated on Wed Nov 8 2017 12:03:26 for Paparazzi UAS by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
